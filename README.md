# æ¯æœˆå½±ç‰‡é¸æ“‡ç³»çµ± (Monthly Movie Selection System)

> **ç‰ˆæœ¬**ï¼šv3.5.2 ï½œ **æœ€å¾Œæ›´æ–°**ï¼š2026-01-07 ï½œ **ç‹€æ…‹**ï¼šâœ… å¯éƒ¨ç½²ã€å¯æ¸¬è©¦ã€å·²å„ªåŒ–

## ğŸ”° å°ˆæ¡ˆç°¡ä»‹

MVI Select æ˜¯ä¸€å¥— React + Node.js + Supabase æ‰“é€ çš„ã€Œæ¯æœˆå½±ç‰‡é¸æ“‡ã€å¹³å°ã€‚ç®¡ç†å“¡å¯ä¸Šå‚³å«åœ–ç‰‡çš„ Excel ç‰‡å–®ã€è¨­å®šæé†’èˆ‡æ“ä½œç´€éŒ„ï¼›ä¸Šå‚³è€…å°ˆæ³¨æ–¼æ›´æ–°ç‰‡å–®ï¼›å®¢æˆ¶å‰‡èƒ½ç·šä¸Šé¸ç‰‡ä¸¦å³æ™‚é€šçŸ¥ç›¸é—œäººå“¡ã€‚

## âš™ï¸ æŠ€è¡“æ¶æ§‹

| å±¤ç´š | æŠ€è¡“ | èªªæ˜ |
|------|------|------|
| å‰ç«¯ | React 18 + Vite + Tailwind CSS + Shadcn UI | æä¾› Apple é¢¨æ ¼ UIã€BrandTransition å‹•ç•«èˆ‡ Context-based æ¬Šé™æ§ç®¡ |
| å¾Œç«¯ | Node.js + Express | æ•´åˆ Supabaseã€Microsoft Graphã€æ’ç¨‹ cron |
| è³‡æ–™åº« | Supabase (PostgreSQL) + Supabase Storage | RLS æ¬Šé™ã€operation_logsã€system_settingsã€å½±ç‰‡/æ‰¹æ¬¡/é¸æ“‡è³‡æ–™ |
| èªè­‰ | Supabase Auth | æ”¯æ´ email/passwordã€ç®¡ç†å“¡ç¨½æ ¸æ“ä½œ |
| Email | Microsoft Graph API | å®¢æˆ¶æäº¤é¸ç‰‡ã€æ‰¹æ¬¡ä¸Šå‚³ã€æé†’é€šçŸ¥ |

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### ä¸‰å±¤æ¬Šé™

| è§’è‰² | æ ¸å¿ƒèƒ½åŠ› |
|------|----------|
| **Admin** | ä¸Šå‚³/åˆªé™¤æ‰¹æ¬¡ã€ç®¡ç†ç”¨æˆ¶ã€è¨­å®šæé†’ã€æŸ¥çœ‹æ“ä½œç´€éŒ„ |
| **Uploader** | ä¸Šå‚³/ç·¨è¼¯å½±ç‰‡ã€æŸ¥çœ‹é¸ç‰‡ç‹€æ…‹ |
| **Customer** | ç€è¦½ç‰‡å–®ã€é¸ç‰‡ã€æäº¤æ¸…å–® |

### è‡ªå‹•åŒ– / é€²éšåŠŸèƒ½

- Excel åœ–ç‰‡è§£æ + Supabase Storage å„²å­˜
- æª”æ¡ˆåç¨±æœˆä»½è­˜åˆ¥ + æœˆä»½é¸æ“‡å™¨ï¼ˆè‡ªå‹•è§£æ `YYYY-MM / 11æœˆ / 202411` ç­‰æ ¼å¼ä¸¦æä¾›æœˆä»½åˆ‡æ›ï¼‰
- æ¯æœˆæé†’è¨­å®šï¼ˆUI è‡ªå‹•åŒæ­¥ã€é è¨­é€šçŸ¥ä¸Šå‚³è€… + è‡ªè¨‚ Emailï¼‰
- PostgREST + cron æ’ç¨‹å¯„é€æé†’ï¼Œä»¥åŠè£œç™¼é€šçŸ¥ API
- Operation Logsï¼šè¨˜éŒ„ç™»å…¥/ç™»å‡ºã€è§’è‰²è®Šæ›´ã€éƒµä»¶è¨­å®šç­‰ï¼Œä¸¦å…·ä¿ç•™å¤©æ•¸è‡ªå‹•æ¸…ç†
- æ“ä½œæ­·å² / é¸æ“‡æ­·å²ï¼šå®¢æˆ¶å¯æŸ¥çœ‹æ‰€æœ‰æ‰¹æ¬¡çš„æäº¤ç´€éŒ„
- å®Œæ•´å½±ç‰‡ç·¨è¼¯æµç¨‹ï¼šAdmin/Uploader å¯å³æ™‚æ›´æ–°å½±ç‰‡è³‡è¨Šèˆ‡å°é¢
- BrandTransition + Glassmorphism UIï¼Œç¢ºä¿ç™»å…¥/ç™»å‡ºé«”é©—èˆ‡ä¸»è¦é é¢å‹•ç·šä¸€è‡´

## ğŸ†• 2026-01-07 æ›´æ–°é‡é»

> å®Œæ•´èªªæ˜è«‹è¦‹ç›¸é—œæŠ€è¡“æ–‡æª”

### v3.5.2 å®‰å…¨æ€§èˆ‡ç©©å®šæ€§ä¿®æ­£ ğŸ›¡ï¸

- **ğŸ”’ ä¿®å¾© Supabase è¦–åœ–å®‰å…¨è­¦å‘Š**ï¼š
  - `batch_stats` è¦–åœ–å¾ SECURITY DEFINER æ”¹ç‚º SECURITY INVOKER
  - è¦–åœ–ç¾åœ¨æœƒéµå¾ªæŸ¥è©¢ç”¨æˆ¶çš„ RLS æ¬Šé™ï¼Œè€Œéè¦–åœ–å‰µå»ºè€…çš„æ¬Šé™
  - æ¶ˆé™¤ Supabase Dashboard çš„ Critical å®‰å…¨è­¦å‘Š

- **â° ä¿®å¾©é é¢é–’ç½®å¾Œç„¡æ³•æ“ä½œçš„å•é¡Œ**ï¼š
  - å•é¡Œï¼šç”¨æˆ¶é–’ç½®ä¸€æ®µæ™‚é–“å¾Œå›åˆ°é é¢ï¼Œæ‰€æœ‰åŠŸèƒ½é¡¯ç¤ºã€Œè®€å–ä¸­ã€ï¼Œé€£ç™»å‡ºä¹Ÿç„¡æ³•æ“ä½œ
  - åŸå› ï¼šSession éæœŸå¾Œ 401 è™•ç†å¡ä½ï¼Œå‰ç«¯ç‹€æ…‹æœªæ­£ç¢ºæ¸…é™¤
  - ä¿®å¾©æ–¹æ¡ˆï¼š
    - `signOut()` æ”¹ç‚ºç«‹å³åŸ·è¡Œï¼Œä¸ç­‰å¾… API éŸ¿æ‡‰
    - 401 è™•ç†æ·»åŠ  5 ç§’è¶…æ™‚ä¿è­·ï¼Œè¶…æ™‚å¾Œå¼·åˆ¶è·³è½‰
    - æ–°å¢é é¢å¯è¦‹æ€§ç›£è½å™¨ï¼Œç”¨æˆ¶å›åˆ°é é¢æ™‚ä¸»å‹•æª¢æŸ¥ Session
    - ä½¿ç”¨ `window.location.replace()` é¿å…è¿”å›å°èˆªå•é¡Œ
    - Session éæœŸæ™‚æ¸…é™¤æ‰€æœ‰èªè­‰ç›¸é—œçš„ localStorage

### v3.5.1 åŠŸèƒ½æ–°å¢èˆ‡ä¿®æ­£ âœ¨

- **ğŸ·ï¸ æ–°å½±ç‰‡æ¨™ç±¤åŠŸèƒ½**ï¼š
  - å®¢æˆ¶é¸æ“‡å½±ç‰‡æ™‚ï¼Œèƒ½æ˜ç¢ºçœ‹åˆ°å“ªäº›å½±ç‰‡æ˜¯**æœ¬æœˆæ–°å¢**çš„ï¼ˆç›¸å°æ–¼ä¸Šå€‹æœˆï¼‰
  - å¾Œç«¯ API è‡ªå‹•æ¯”è¼ƒç•¶å‰æœˆä»½èˆ‡ä¸Šå€‹æœˆä»½çš„å½±ç‰‡æ¸…å–®
  - æ¯å€‹æ–°å½±ç‰‡å¡ç‰‡å·¦ä¸‹è§’é¡¯ç¤ºé–ƒçˆçš„ã€Œâœ¨ Newã€æ©˜è‰²æ¼¸å±¤æ¨™ç±¤
  - é é¢æ¨™é¡Œæ—é¡¯ç¤ºã€ŒN éƒ¨æ–°ç‰‡ã€çµ±è¨ˆæç¤º
  - ä½¿ç”¨å½±ç‰‡æ¨™é¡Œé€²è¡Œæ¯”å°ï¼Œç¢ºä¿è·¨æ‰¹æ¬¡è­˜åˆ¥æº–ç¢º

- **ğŸ“§ å®¢æˆ¶æäº¤å½±ç‰‡é¸æ“‡é€šçŸ¥ä¿®æ­£**ï¼š
  - å‰ç«¯é¡¯ç¤ºæ–‡å­—ä¿®æ­£ï¼šã€Œæ‰€æœ‰ç³»çµ±ç®¡ç†å“¡èˆ‡æ‰€æœ‰ä¸Šå‚³è€…ã€
  - å¾Œç«¯é è¨­é€šçŸ¥å°è±¡ä¿®æ­£ï¼šç¾åœ¨æ­£ç¢ºåŒ…å«æ‰€æœ‰ç®¡ç†å“¡ + æ‰€æœ‰ä¸Šå‚³è€…
  - æ–°å¢ `getAdminAndUploaderRecipients()` å‡½æ•¸ç¢ºä¿å¯¦éš›éƒµå¯„è¡Œç‚ºèˆ‡é¡¯ç¤ºä¸€è‡´
  - ä¿®æ­£åŸæœ¬åªé€šçŸ¥ã€Œè©²æ‰¹æ¬¡ä¸Šå‚³è€…ã€çš„å•é¡Œ

- **ğŸ• æ™‚å€ä¿®æ­£ï¼ˆå°ç£æ™‚é–“ï¼‰**ï¼š
  - æ‰€æœ‰éƒµä»¶å’Œ Excel åŒ¯å‡ºçš„æ™‚é–“æˆ³è¨˜ç¾åœ¨æ­£ç¢ºé¡¯ç¤ºå°ç£æ™‚é–“
  - ä¿®æ­£ä¼ºæœå™¨ä½¿ç”¨ UTC æ™‚å€å°è‡´æ™‚é–“å·® 8 å°æ™‚çš„å•é¡Œ
  - æ˜ç¢ºæŒ‡å®š `timeZone: 'Asia/Taipei'` åƒæ•¸
  - å½±éŸ¿ç¯„åœï¼šéƒµä»¶é€šçŸ¥æ™‚é–“ã€Excel åŒ¯å‡ºæäº¤æ™‚é–“

### v3.5.0 åŠŸèƒ½æ”¹é€²èˆ‡ä¿®æ­£ ğŸš€

- **ğŸ“¢ æ–°æ‰¹æ¬¡æç¤ºé‚è¼¯å„ªåŒ–**ï¼š
  - åªè¦æœ‰æ–°æ‰¹æ¬¡ä¸Šå‚³ï¼Œæ‰€æœ‰å®¢æˆ¶éƒ½æœƒçœ‹åˆ°ã€Œæœ‰æ–°çš„å½±ç‰‡æ¸…å–®å¯ä¾›æ‚¨æŒ‘é¸ã€æç¤º
  - å› æ‡‰ä¸Šå‚³è€…å¯èƒ½å¤šæ¬¡æ›´æ–°åŒæœˆä»½æ¸…å–®çš„æƒ…å¢ƒ

- **ğŸ·ï¸ èª¿æ•´è¨˜éŒ„é¡¯ç¤ºä¾†æºæœˆä»½**ï¼š
  - å®¢æˆ¶çš„ã€Œèª¿æ•´è¨˜éŒ„ã€é é¢å±•é–‹è©³æƒ…æ™‚ï¼Œæ¯éƒ¨å½±ç‰‡æ—é¡¯ç¤ºä¾†æºæœˆä»½æ¨™ç±¤
  - æ–°å¢å½±ç‰‡é¡¯ç¤ºè—è‰²æ¨™ç±¤ï¼Œç§»é™¤å½±ç‰‡é¡¯ç¤ºç´…è‰²æ¨™ç±¤

- **ğŸ‘¤ Uploader æ¬Šé™æ“´å±•**ï¼š
  - ä¸Šå‚³è€…ç¾å¯æŸ¥çœ‹ã€Œå®¢æˆ¶æ¸…å–®ç¸½è¦½ã€é é¢
  - ä¸Šå‚³è€…å¯æŸ¥çœ‹ç®¡ç†å“¡å„€è¡¨æ¿çš„ã€Œå®¢æˆ¶æ¸…å–®èª¿æ•´æ˜ç´°ã€
  - å¾Œç«¯ API æ·»åŠ  `requireRoles(['admin', 'uploader'])` æ¬Šé™æ§ç®¡

- **ğŸ“Š æœˆä»½èª¿æ•´å½™ç¸½åŒ¯å‡ºåŠŸèƒ½**ï¼š
  - æ–°å¢ã€ŒåŒ¯å‡ºèª¿æ•´è¨˜éŒ„ã€æŒ‰éˆ•æ–¼å®¢æˆ¶æ¸…å–®ç¸½è¦½é é¢
  - å¯é¸æ“‡æœˆä»½ä¸¦åŒ¯å‡º Excel æª”æ¡ˆ
  - Excel åŒ…å«ä¸‰å€‹å·¥ä½œè¡¨ï¼šèª¿æ•´æ‘˜è¦ã€æ–°å¢å½±ç‰‡æ˜ç´°ã€ç§»é™¤å½±ç‰‡æ˜ç´°
  - æ¯å€‹æ˜ç´°åŒ…å«ä¾†æºæœˆä»½è³‡è¨Šï¼Œæ–¹ä¾¿å¾ŒçºŒè™•ç†

- **ğŸ”§ éƒµä»¶ç®¡ç†é è¨­é€šçŸ¥å°è±¡ä¿®æ­£**ï¼š
  - ã€Œæ–°å½±ç‰‡æ¸…å–®ä¸Šå‚³ã€çš„é è¨­é€šçŸ¥å°è±¡ç¾æ­£ç¢ºé¡¯ç¤ºï¼šç³»çµ±ç®¡ç†å“¡ + æ‰€æœ‰å®¢æˆ¶
  - ä¿®æ­£åŸæœ¬éŒ¯èª¤é¡¯ç¤ºç‚ºã€Œç®¡ç†å“¡ + ä¸Šå‚³è€…ã€çš„å•é¡Œ

### v3.4.0 å…¨ç«™ç”¨èªçµ±ä¸€å„ªåŒ– ğŸ“

- **ğŸ·ï¸ æ ¸å¿ƒç”¨èªçµ±ä¸€**ï¼š
  - ã€Œé¸æ“‡å½±ç‰‡ã€â†’ã€Œèª¿æ•´æ¸…å–®ã€
  - ã€Œé¸æ“‡è¨˜éŒ„ã€â†’ã€Œèª¿æ•´è¨˜éŒ„ã€
  - ã€Œæäº¤é¸æ“‡ã€â†’ã€Œæ›´æ–°æˆ‘çš„æ¸…å–®ã€
  - ã€Œå¾…è™•ç†è®Šæ›´ã€â†’ã€Œå¾…æäº¤çš„èª¿æ•´ã€
  - ã€Œå·²é¸æ¸…å–®ã€â†’ã€Œå®¢æˆ¶æ¸…å–®ç¸½è¦½ã€
  - ã€Œæœ¬æœˆæ–°å¢/ä¸‹æ¶ã€â†’ã€Œæœ€è¿‘æ–°å¢/ç§»é™¤ã€

- **ğŸ“‹ å®¢æˆ¶å„€è¡¨æ¿**ï¼š
  - ã€Œæœ¬æœˆæ¸…å–®ç‹€æ…‹ã€â†’ã€Œæœ€æ–°å½±ç‰‡æ¸…å–®ã€
  - ã€Œæˆ‘çš„é¸æ“‡ç‹€æ…‹ã€â†’ã€Œæˆ‘çš„æ¸…å–®ç‹€æ…‹ã€
  - ã€Œå·²æäº¤ã€â†’ã€Œå·²å»ºç«‹ã€
  - æ›´æ–°ä½¿ç”¨èªªæ˜æ­¥é©Ÿ

- **ğŸ“Š ç®¡ç†å“¡å„€è¡¨æ¿**ï¼š
  - ã€Œæœ¬æœˆé¸æ“‡é€²åº¦ã€â†’ã€Œå®¢æˆ¶æäº¤ç‹€æ…‹ã€
  - ã€Œå®¢æˆ¶é¸æ“‡æ˜ç´°ã€â†’ã€Œå®¢æˆ¶æ¸…å–®èª¿æ•´æ˜ç´°ã€
  - ã€Œé¸æ“‡æ•¸é‡ã€â†’ã€Œæ“æœ‰å½±ç‰‡æ•¸ã€

- **ğŸ“§ éƒµä»¶é€šçŸ¥å„ªåŒ–**ï¼š
  - ã€Œå½±ç‰‡é¸æ“‡ç¢ºèªé€šçŸ¥ã€â†’ã€Œå®¢æˆ¶æ¸…å–®èª¿æ•´é€šçŸ¥ã€
  - ã€Œæ–°å¢å½±ç‰‡ã€â†’ã€Œæ–°ä¸Šæ¶å½±ç‰‡ã€
  - ã€Œç§»é™¤å½±ç‰‡ã€â†’ã€Œä¸‹æ¶å½±ç‰‡ã€
  - ã€Œè®Šæ›´æ‘˜è¦ã€â†’ã€Œæœ¬æ¬¡èª¿æ•´æ‘˜è¦ã€
  - æ›´æ–°éƒµä»¶ä¸»é¡Œå’Œèªªæ˜æ–‡å­—

### v3.3.1 é¸æ“‡æ­·å²é é¢é‡æ§‹ ğŸ“œ

- **ğŸ”„ é é¢æ¶æ§‹é‡æ§‹**ï¼š
  - å®Œå…¨ç§»é™¤æœˆä»½é¸æ“‡å™¨ï¼ˆä¸å†æœ‰æœˆä»½æ¦‚å¿µï¼‰
  - æ”¹ç‚ºé¡¯ç¤ºã€Œæˆ‘çš„å½±ç‰‡æ¸…å–®ã€ï¼ˆç•¶å‰ç´¯ç©æ¸…å–®ï¼‰
  - æ–°å¢ã€Œæäº¤æ­·å²è¨˜éŒ„ã€åˆ—è¡¨ï¼Œé¡¯ç¤ºæ¯æ¬¡æäº¤çš„è®Šæ›´

- **ğŸ“‹ æˆ‘çš„å½±ç‰‡æ¸…å–®**ï¼š
  - é¡¯ç¤ºå®¢æˆ¶ç›®å‰æ“æœ‰çš„æ‰€æœ‰å½±ç‰‡
  - æ”¯æ´ç¶²æ ¼/æ¸…å–®å…©ç¨®è¦–åœ–åˆ‡æ›
  - é¡¯ç¤ºå½±ç‰‡å°é¢ã€æ¨™é¡Œã€è‹±æ–‡æ¨™é¡Œ

- **ğŸ“œ æäº¤æ­·å²è¨˜éŒ„**ï¼š
  - é¡¯ç¤ºæ‰€æœ‰æäº¤è¨˜éŒ„ï¼ˆæœ€æ–°åœ¨ä¸Šï¼‰
  - æ¯ç­†è¨˜éŒ„é¡¯ç¤ºï¼šæäº¤æ™‚é–“ã€ç¸½æ•¸ã€æ–°å¢æ•¸é‡ã€ç§»é™¤æ•¸é‡
  - å¯å±•é–‹æŸ¥çœ‹è®Šæ›´æ˜ç´°ï¼ˆæ–°å¢/ç§»é™¤çš„å½±ç‰‡åˆ—è¡¨ï¼‰
  - æœ€æ–°ä¸€ç­†æ¨™è¨˜ã€Œæœ€æ–°ã€æ¨™ç±¤

- **ğŸ“Š çµ±è¨ˆå¡ç‰‡**ï¼š
  - ç›®å‰æ“æœ‰å½±ç‰‡æ•¸é‡
  - ç¸½æäº¤æ¬¡æ•¸
  - æœ€å¾Œæ›´æ–°æ™‚é–“

### v3.3.0 èªè­‰ç³»çµ±å¼·åŒ–èˆ‡ Session é˜²è­· ğŸ›¡ï¸

- **ğŸ” 401 è‡ªå‹•è™•ç†æ©Ÿåˆ¶**ï¼š
  - ç•¶ API æ”¶åˆ° 401 Unauthorized æ™‚ï¼Œè‡ªå‹•æ¸…é™¤éæœŸçš„ Session
  - è‡ªå‹•è·³è½‰åˆ°ç™»å…¥é é¢ï¼Œä¸¦é¡¯ç¤ºã€Œç™»å…¥å·²éæœŸã€æç¤º
  - é˜²æ­¢é‡è¤‡è™•ç†ï¼ˆ3 ç§’å…§åªè™•ç†ä¸€æ¬¡ï¼‰
  - æ’é™¤ç™»å…¥ç›¸é—œ APIï¼Œé¿å…å½±éŸ¿æ­£å¸¸ç™»å…¥æµç¨‹

- **â° Session å®šæœŸæª¢æŸ¥**ï¼š
  - æ¯ 5 åˆ†é˜è‡ªå‹•æª¢æŸ¥ Session æœ‰æ•ˆæ€§
  - è‹¥ Session éæœŸä½†å‰ç«¯ç‹€æ…‹é‚„åœ¨ï¼Œè‡ªå‹•æ¸…é™¤ç”¨æˆ¶ç‹€æ…‹
  - è™•ç† `TOKEN_REFRESHED` äº‹ä»¶ï¼Œç¢ºä¿ Token åˆ·æ–°å¾Œæ­£å¸¸é‹ä½œ

- **ğŸ“ ç™»å…¥é é¢éæœŸæç¤º**ï¼š
  - ç•¶å›  Session éæœŸè·³è½‰æ™‚ï¼Œé¡¯ç¤ºå‹å–„çš„è­¦å‘Šè¨Šæ¯
  - ã€Œç‚ºäº†æ‚¨çš„å¸³è™Ÿå®‰å…¨ï¼Œè«‹é‡æ–°ç™»å…¥ã€
  - è‡ªå‹•æ¸…é™¤ URL åƒæ•¸ï¼Œä¿æŒä¹¾æ·¨çš„ç¶²å€

- **ğŸ§¹ æ¸…ç†èª¿è©¦ä»£ç¢¼**ï¼š
  - ç§»é™¤ v3.2.6-v3.2.8 çš„è©³ç´°èª¿è©¦æ—¥èªŒ
  - ç”Ÿç”¢ç’°å¢ƒåªä¿ç•™å¿…è¦çš„éŒ¯èª¤æ—¥èªŒ
  - ä¿æŒä»£ç¢¼æ•´æ½”å’Œæ€§èƒ½æœ€ä½³åŒ–

### v3.2.3 éŸ¿æ‡‰å¼å½ˆçª—èˆ‡é¸æ“‡ç´€éŒ„è¼‰å…¥å„ªåŒ– ğŸ“±

- **ğŸ“± VideoDetailModal éŸ¿æ‡‰å¼å„ªåŒ–**ï¼š
  - å°é¢åœ–ç‰‡æœ€å¤§é«˜åº¦é™åˆ¶ `max-h-[35vh]`ï¼Œé¿å…åœ¨å°è¢å¹•ä¸Šéåº¦æ”¾å¤§
  - æè¿°å€åŸŸæœ€å°é«˜åº¦ `min-h-[120px]`ï¼Œç¢ºä¿å…§å®¹å§‹çµ‚å¯è¦‹
  - è‡ªé©æ‡‰å„ç¨®è¢å¹•è§£æåº¦

- **â³ é¸æ“‡ç´€éŒ„è¼‰å…¥ç‹€æ…‹**ï¼š
  - å®¢æˆ¶é¸æ“‡ç´€éŒ„é é¢æ·»åŠ è¼‰å…¥å‹•ç•«
  - é¿å…è³‡æ–™è¼‰å…¥ä¸­é¡¯ç¤ºã€Œå°šç„¡è¨˜éŒ„ã€çš„éŒ¯èª¤è¨Šæ¯

### v3.2.2 å½±ç‰‡é è¦½å½ˆçª—ä½ˆå±€ä¿®å¾© ğŸ¬

- **ğŸ–¼ï¸ å°é¢åœ–ç‰‡å„ªåŒ–**ï¼š
  - ä½¿ç”¨ `object-contain` é¡¯ç¤ºå®Œæ•´å°é¢ï¼Œä¸å†è£åˆ‡
  - æ·»åŠ æ·±è‰²èƒŒæ™¯ `bg-gray-900` è™•ç†éæ¨™æº–æ¯”ä¾‹åœ–ç‰‡
  
- **ğŸ“œ æè¿°å€åŸŸå¯æ»¾å‹•**ï¼š
  - ä½¿ç”¨ Flexbox ä½ˆå±€ç¢ºä¿é•·æè¿°å¯ä»¥æ»¾å‹•æŸ¥çœ‹
  - æ“ä½œæŒ‰éˆ•å§‹çµ‚ä¿æŒåœ¨å¯è¦‹å€åŸŸåº•éƒ¨

### v3.2.1 å½±ç‰‡é è¦½èª¿æ•´èˆ‡ç®¡ç†å“¡ç¯©é¸å„ªåŒ– ğŸ”

- **ğŸ¨ å°é¢æ¯”ä¾‹èª¿æ•´**ï¼š
  - é è¦½å½ˆçª—ä½¿ç”¨ 2:3 ç¸±å‘æ¯”ä¾‹ï¼Œé©åˆé›»å½±æµ·å ±
  - æ¸›å°å½ˆçª—å¯¬åº¦ï¼Œæå‡è¦–è¦ºç„¦é»

- **ğŸ“… ç®¡ç†å“¡å„€è¡¨æ¿æœˆä»½ç¯©é¸**ï¼š
  - å°‡ã€Œå®¢æˆ¶é¸æ“‡æ˜ç´°ã€çš„æ‰¹æ¬¡ç¯©é¸æ”¹ç‚ºæœˆä»½ç¯©é¸
  - æ ¹æ“šå®¢æˆ¶æäº¤æ™‚é–“ç¯©é¸ï¼Œç¬¦åˆå¯¦éš›æ¥­å‹™æµç¨‹

### v3.2.0 å®¢æˆ¶æ¸…å–®ç¸½è¦½å„ªåŒ–èˆ‡å½±ç‰‡é è¦½ ğŸ‘ï¸

- **ğŸ¯ ç§»é™¤ä¸å¿…è¦çš„æœˆä»½é¸æ“‡å™¨**
- **ğŸ”„ æ–°å¢ç¶²æ ¼/æ¸…å–®è¦–åœ–åˆ‡æ›**
- **ğŸ‘ï¸ æ–°å¢å½±ç‰‡é è¦½åŠŸèƒ½**ï¼š
  - `VideoDetailModal` çµ„ä»¶é¡¯ç¤ºå®Œæ•´å½±ç‰‡è³‡è¨Š
  - `MovieCard_v3` æ·»åŠ é è¦½æŒ‰éˆ•ï¼ˆhover æ™‚é¡¯ç¤ºçœ¼ç›åœ–ç¤ºï¼‰
  - ä¸æ”¹è®Šç¾æœ‰é¸æ“‡æµç¨‹ï¼Œé¡å¤–æä¾›è©³æƒ…æŸ¥çœ‹å…¥å£

### v3.1.2 ç·Šæ€¥ä¿®å¾©ï¼šå·²é¸æ¸…å–®é é¢éŒ¯èª¤ ğŸ”§

- **ğŸ› ä¿®å¾© 500 éŒ¯èª¤**ï¼š
  - å•é¡Œï¼š`selections.js` ç¬¬ 598 è¡Œå¼•ç”¨äº†æœªå®šç¾©çš„ `currentSelections` å’Œ `previousSelections` è®Šæ•¸
  - åŸå› ï¼šv3 é‡æ§‹æ™‚éºç•™çš„èˆŠä»£ç¢¼ï¼Œé€™äº›è®Šæ•¸å·²ä¸å­˜åœ¨
  - ä¿®å¾©ï¼šå¾ `historyData`ï¼ˆselection_history è¡¨ï¼‰æ­£ç¢ºæå–å½±ç‰‡ ID
  - å½±éŸ¿ï¼šç®¡ç†å“¡ã€Œå®¢æˆ¶æ¸…å–®ç¸½è¦½ã€é é¢ç¾åœ¨å¯ä»¥æ­£å¸¸è¨ªå•

- **âœ… æ­£ç¢ºçš„å½±ç‰‡ ID æ”¶é›†**ï¼š
  - å¾ `customer_current_list` æ”¶é›†ç•¶å‰æ¸…å–®çš„å½±ç‰‡ ID
  - å¾ `selection_history.added_videos` æ”¶é›†æ–°å¢å½±ç‰‡çš„ ID
  - å¾ `selection_history.removed_videos` æ”¶é›†ç§»é™¤å½±ç‰‡çš„ ID
  - ä½¿ç”¨ Set å»é‡å¾Œæ‰¹æ¬¡æŸ¥è©¢å½±ç‰‡è©³æƒ…

### v3.1.1 éƒµä»¶é€šçŸ¥æœˆä»½è¿½è¹¤å„ªåŒ– ğŸ“§

- **âœ¨ æ–°å¢å½±ç‰‡ä¾†æºæœˆä»½è¿½è¹¤**ï¼š
  - å¾Œç«¯ submit ç«¯é»ç¾åœ¨æœƒæŸ¥è©¢æ¯éƒ¨æ–°å¢/ç§»é™¤å½±ç‰‡çš„ä¾†æºæœˆä»½
  - æ–°å¢å½±ç‰‡ï¼šå¾ `customer_current_list.added_from_month` æˆ– `videos.batch.month` ç²å–
  - ç§»é™¤å½±ç‰‡ï¼šå¾ `selection_history` æ­·å²è¨˜éŒ„æˆ– `videos.batch.month` ç²å–
  - æŸ¥è©¢å¤±æ•—æ™‚æ¨™è¨˜ç‚º 'Unknown'

- **ğŸ“¬ éƒµä»¶æ¨¡æ¿å¢å¼·é¡¯ç¤º**ï¼š
  - æ–°å¢å½±ç‰‡æ—é¡¯ç¤ºè—è‰²æœˆä»½æ¨™ç±¤ï¼ˆä¾‹å¦‚ï¼š`2025å¹´12æœˆ`ï¼‰
  - ç§»é™¤å½±ç‰‡æ—é¡¯ç¤ºç´…è‰²æœˆä»½æ¨™ç±¤ï¼ˆä¾‹å¦‚ï¼š`2024å¹´11æœˆ`ï¼‰
  - æ¸…æ¥šæ¨™è¨»ã€Œè—è‰²æ¨™ç±¤ç‚ºå½±ç‰‡ä¾†æºæœˆä»½ã€ã€Œç´…è‰²æ¨™ç±¤ç‚ºå½±ç‰‡åŸæœ¬ä¾†æºæœˆä»½ã€
  - ç®¡ç†å“¡å’Œä¸Šå‚³è€…å¯æ˜ç¢ºçŸ¥é“å®¢æˆ¶å¾å“ªäº›æœˆä»½é¸æ“‡äº†å½±ç‰‡

- **ğŸ¯ ç¬¦åˆæ¥­å‹™å ´æ™¯**ï¼š
  - ä¸Šå‚³è€…åœ¨ 1æœˆä¸Šå‚³ 1æœˆå½±ç‰‡æ¸…å–®
  - å®¢æˆ¶å¯èƒ½å¾ 1æœˆã€12æœˆã€11æœˆç­‰ä¸åŒæœˆä»½æŒ‘é¸å½±ç‰‡
  - ç®¡ç†å“¡/ä¸Šå‚³è€…æ”¶åˆ°çš„éƒµä»¶é€šçŸ¥æœƒæ˜ç¢ºåˆ—å‡ºï¼š
    - å®¢æˆ¶æ–°å¢äº†å“ªäº›å½±ç‰‡ï¼ˆä¾†è‡ªå“ªå€‹æœˆä»½ï¼‰
    - å®¢æˆ¶ç§»é™¤äº†å“ªäº›å½±ç‰‡ï¼ˆåŸæœ¬ä¾†è‡ªå“ªå€‹æœˆä»½ï¼‰
  - ä¾¿æ–¼è¿½è¹¤å’Œå¾ŒçºŒè™•ç†

### v3.1.0 å®¢æˆ¶æ¸…å–®è®Šæ›´è¿½è¹¤ ğŸ”„

- **ğŸ“Š å®Œæ•´è®Šæ›´æ­·å²å±•ç¤º**ï¼š
  - ç®¡ç†å“¡ã€Œå®¢æˆ¶æ¸…å–®ç¸½è¦½ã€ç¾åœ¨é¡¯ç¤ºæ¯å€‹å®¢æˆ¶çš„æœ€å¾Œä¸€æ¬¡è®Šæ›´æ˜ç´°
  - æ–°å¢è—è‰²ã€Œæœ€è¿‘ä¸€æ¬¡è®Šæ›´æ˜ç´°ã€å€å¡Šï¼ŒåŒ…å«ï¼š
    - æ–°å¢å½±ç‰‡æ¸…å–®ï¼ˆæœ€å¤šé¡¯ç¤º 5 éƒ¨ï¼Œè¶…éé¡¯ç¤ºã€Œ...é‚„æœ‰ X éƒ¨ã€ï¼‰
    - ç§»é™¤å½±ç‰‡æ¸…å–®ï¼ˆæœ€å¤šé¡¯ç¤º 5 éƒ¨ï¼Œè¶…éé¡¯ç¤ºã€Œ...é‚„æœ‰ X éƒ¨ã€ï¼‰
    - è®Šæ›´æ™‚é–“æˆ³è¨˜

- **ğŸ” è®Šæ›´è¿½è¹¤ä¾†æº**ï¼š
  - å¾ `selection_history` è¡¨æŸ¥è©¢ `added_videos` å’Œ `removed_videos`
  - åŒ…å« `added_count`ã€`removed_count`ã€`total_count` çµ±è¨ˆ
  - å‰ç«¯é¡¯ç¤ºå®Œæ•´å½±ç‰‡æ¨™é¡Œ

### v3.0.9 å®¢æˆ¶æ¸…å–®ç¸½è¦½é‡æ§‹ ğŸ¨

- **ğŸ—ï¸ API å®Œå…¨é‡æ§‹**ï¼š
  - ç§»é™¤æœˆä»½ç¯©é¸ï¼Œæ”¹ç‚ºé¡¯ç¤ºæ‰€æœ‰å®¢æˆ¶çš„ç•¶å‰ç´¯ç©æ¸…å–®
  - ç«¯é»å¾ `/api/selections/monthly-summary` æ”¹ç‚º `/api/selections/customer-lists-overview`
  - æŸ¥è©¢ `customer_current_list` è€Œé `selections` è¡¨
  - æ‰¹æ¬¡æŸ¥è©¢æ‰€æœ‰å½±ç‰‡è©³æƒ…ï¼Œå„ªåŒ–æ€§èƒ½

- **ğŸ’» å‰ç«¯çµ„ä»¶æ›´æ–°**ï¼š
  - `AdminSelectionSummary.jsx` æ”¹åç‚º `AdminCustomerListsOverview.jsx`
  - ç§»é™¤æœˆä»½é¸æ“‡å™¨å’Œæœˆä»½ç›¸é—œé‚è¼¯
  - æ¨™é¡Œæ›´æ–°ç‚ºã€Œå®¢æˆ¶æ¸…å–®ç¸½è¦½ã€
  - èªªæ˜æ–‡å­—ï¼šã€ŒæŸ¥çœ‹æ‰€æœ‰å®¢æˆ¶çš„ç•¶å‰ç´¯ç©æ¸…å–®ï¼ˆv3 æ¶æ§‹ï¼šä¸å†æŒ‰æœˆä»½åŠƒåˆ†ï¼‰ã€

### v3.0.8 å·²é¸æ¸…å–® API éŒ¯èª¤ä¿®æ­£ ğŸ”§

- **ğŸ› ä¿®æ­£ç®¡ç†å“¡å·²é¸æ¸…å–®é é¢ 500 éŒ¯èª¤**ï¼š
  - ç§»é™¤ç„¡æ•ˆçš„ Supabase é—œè¯æŸ¥è©¢èªæ³• `videos:video_id`
  - æ”¹ç‚ºåˆ†åˆ¥æŸ¥è©¢å½±ç‰‡è©³æƒ…ä¸¦ä½¿ç”¨ Map æ˜ å°„
  - ä¿®æ­£ `allVideoIds` åˆå§‹åŒ–é †åºå•é¡Œ
  - æ·»åŠ è©³ç´°æ—¥èªŒä»¥ä¾¿èª¿è©¦

### v3.0.7 å„€è¡¨æ¿è³‡æ–™é¡¯ç¤ºä¿®æ­£ ğŸ“Š

- **ğŸ› ä¿®æ­£å®¢æˆ¶é¸æ“‡æ­·å²é é¢é¡¯ç¤ºç©ºç™½**ï¼š
  - æ”¹æŸ¥è©¢ `selection_history` è¡¨è€ŒéèˆŠçš„ `selections` è¡¨
  - åˆ©ç”¨å¿«ç…§ä¸­çš„å½±ç‰‡è©³æƒ…ï¼Œç„¡éœ€é¡å¤–æŸ¥è©¢
  - æ­£ç¢ºé¡¯ç¤ºæ­·å²é¸æ“‡è¨˜éŒ„å’Œæ–°å¢/ç§»é™¤çš„å½±ç‰‡
  
- **ğŸ› ä¿®æ­£ç®¡ç†å“¡å„€è¡¨æ¿å®¢æˆ¶ç‹€æ…‹é¡¯ç¤ºéŒ¯èª¤**ï¼š
  - æ”¹æŸ¥è©¢ `customer_current_list` è¡¨ï¼ˆç´¯ç©æ¸…å–®ï¼‰
  - å¾ `selection_history` ç²å–æœ€å¾Œæäº¤æ™‚é–“
  - æ­£ç¢ºé¡¯ç¤ºã€Œå·²æäº¤ã€è€Œéã€Œå¾…æäº¤ã€
  - æœ¬æœˆé¸æ“‡é€²åº¦æº–ç¢ºåæ˜ å¯¦éš›ç‹€æ…‹
  
- **ğŸ› ä¿®æ­£å·²é¸ç‰‡å–®ç¸½è¦½ç„¡è³‡æ–™å•é¡Œ**ï¼š
  - ç®¡ç†å“¡å·²é¸ç‰‡å–®æ‘˜è¦ API æ”¹ç”¨ `customer_current_list` å’Œ `selection_history`
  - åˆ©ç”¨æ­·å²å¿«ç…§ä¸­å·²è¨ˆç®—å¥½çš„å·®ç•°è³‡è¨Š
  - æ”¯æ´é¡¯ç¤ºå®¢æˆ¶çš„ç´¯ç©æ¸…å–®å’Œè·¨æœˆä»½æ­·å²
  
- **ğŸ“ æ–‡æª”æ›´æ–°**ï¼š
  - [FIX_DASHBOARD_DISPLAY_v3.0.7.md](FIX_DASHBOARD_DISPLAY_v3.0.7.md) - å„€è¡¨æ¿ä¿®æ­£è©³ç´°èªªæ˜ â­

### v3.0.6 å®¢æˆ¶æ¸…å–®åŠŸèƒ½ä¿®æ­£ ğŸ› ï¸

- **ğŸ› ä¿®æ­£ã€Œæˆ‘çš„æ¸…å–®ã€é¡¯ç¤ºç©ºç™½å•é¡Œ**ï¼š
  - ä¿®æ­£å‰ç«¯è³‡æ–™çµæ§‹æ˜ å°„éŒ¯èª¤
  - `customerList` å·²æ˜¯æ”¤å¹³çš„å½±ç‰‡ç‰©ä»¶ï¼Œç§»é™¤å¤šé¤˜çš„ `.videos` æ˜ å°„
  - ç¢ºä¿å®¢æˆ¶å¯ä»¥æ­£ç¢ºæŸ¥çœ‹è‡ªå·±çš„ç´¯ç©æ¸…å–®
  
- **ğŸ› ä¿®æ­£å–æ¶ˆå½±ç‰‡å¾Œæ²’æœ‰æ›´æ–°çš„å•é¡Œ**ï¼š
  - ä¿®æ­£ `removedVideos` éæ¿¾é‚è¼¯éŒ¯èª¤
  - ä½¿ç”¨æ­£ç¢ºçš„ `item.id` è€Œéä¸å­˜åœ¨çš„ `item.video_id`
  - ç¢ºä¿æ–°å¢/ç§»é™¤å½±ç‰‡å¾Œæ­£ç¢ºæ›´æ–°æ•¸é‡
  
- **ğŸ› ä¿®æ­£å„€è¡¨æ¿ç‹€æ…‹éŒ¯èª¤**ï¼š
  - ä¿®æ­£å¾Œç«¯æŸ¥è©¢éŒ¯èª¤çš„è³‡æ–™è¡¨ï¼ˆ`selections` â†’ `customer_current_list`ï¼‰
  - æ”¹ç”¨ç´¯ç©æ¸…å–®æ¶æ§‹æŸ¥è©¢å®¢æˆ¶é¸æ“‡ç‹€æ…‹
  - å¾ `selection_history` ç²å–æœ€å¾Œæäº¤è¨˜éŒ„
  - æ·»åŠ  `customerListCount` æ¬„ä½ä»¥æ­£ç¢ºé¡¯ç¤ºæ•¸é‡
  
- **ğŸ“ æ–‡æª”æ›´æ–°**ï¼š
  - [FIX_CUSTOMER_LIST_ISSUES.md](FIX_CUSTOMER_LIST_ISSUES.md) - å®¢æˆ¶æ¸…å–®å•é¡Œä¿®æ­£è©³ç´°èªªæ˜ â­
  - [QUICK_FIX_GUIDE_v3.0.6.md](QUICK_FIX_GUIDE_v3.0.6.md) - å¿«é€Ÿä¿®æ­£æŒ‡å—

### v3.0.5 èªè­‰ç³»çµ±ä¿®æ­£ ğŸ”’

- **ğŸ› ä¿®æ­£ 401 éŒ¯èª¤**ï¼š
  - ä¿®æ­£å‰ç«¯ API token ç²å–æ–¹å¼ï¼Œä½¿ç”¨ Supabase SDK çš„ `getSession()` æ–¹æ³•
  - è§£æ±ºå®¢æˆ¶æ¸…å–®è¼‰å…¥å’Œæäº¤æ™‚çš„èªè­‰å¤±æ•—å•é¡Œï¼ˆ`GET /api/customer-list/:id` å’Œ `POST /api/customer-list/:id/update`ï¼‰
  - ç¢ºä¿æ‰€æœ‰éœ€è¦èªè­‰çš„ API ç«¯é»éƒ½èƒ½æ­£ç¢ºç²å–å’Œå‚³é access token
  - æ”¯æ´ token è‡ªå‹•åˆ·æ–°ï¼Œé¿å…éæœŸå°è‡´çš„ 401 éŒ¯èª¤
  
- **ğŸ”§ æŠ€è¡“æ”¹é€²**ï¼š
  - è«‹æ±‚æ””æˆªå™¨æ”¹ç‚ºéåŒæ­¥ï¼ˆasyncï¼‰ï¼Œç¢ºä¿åœ¨ç²å– token å¾Œæ‰ç™¼é€è«‹æ±‚
  - çµ±ä¸€èªè­‰é‚è¼¯ï¼Œèˆ‡ AuthContext ä¿æŒä¸€è‡´
  - ç§»é™¤ä¸å¯é çš„ localStorage key æŸ¥æ‰¾æ–¹å¼
  - æ·»åŠ è©³ç´°çš„éŒ¯èª¤æ—¥èªŒï¼Œä¾¿æ–¼é™¤éŒ¯

- **ğŸ“ æ–‡æª”æ›´æ–°**ï¼š
  - [FIX_401_AUTH_ERRORS.md](FIX_401_AUTH_ERRORS.md) - èªè­‰éŒ¯èª¤ä¿®æ­£è©³ç´°èªªæ˜
  - [QUICK_DEPLOY_FIX.md](QUICK_DEPLOY_FIX.md) - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ†• 2026-01-03 æ›´æ–°é‡é»

> å®Œæ•´èªªæ˜è«‹è¦‹ç›¸é—œæŠ€è¡“æ–‡æª”

### v3.0.4 è³‡æ–™åº«æ€§èƒ½å„ªåŒ– & è³‡æ–™å“è³ªä¿®æ­£ âš¡

- **ğŸš¨ ç·Šæ€¥ä¿®å¾©ï¼šå¾ªç’°ä¾è³´å•é¡Œï¼ˆ2026-01-03ï¼‰**ï¼š
  - ä¿®å¾© RLS policy å¾ªç’°ä¾è³´å°è‡´çš„ç™»å…¥å•é¡Œï¼ˆ500 éŒ¯èª¤ï¼‰
  - å‰µå»º `is_admin()` è¼”åŠ©å‡½æ•¸é¿å…æŸ¥è©¢ profiles è¡¨æœ¬èº«
  - æ‰€æœ‰æ¬Šé™æª¢æŸ¥æ”¹ç‚ºç›´æ¥æŸ¥è©¢ `auth.users.raw_user_meta_data`
  - ç³»çµ±å·²æ¢å¾©æ­£å¸¸ï¼Œç™»å…¥åŠŸèƒ½å®Œå…¨æ­£å¸¸ âœ…

- **ğŸš€ RLS æ€§èƒ½å¤§å¹…æå‡**ï¼š
  - ä¿®å¾©æ‰€æœ‰ 29 å€‹ "Auth RLS Initialization Plan" è­¦å‘Š
  - å°‡ `auth.uid()` æ”¹ç‚º `(select auth.uid())`ï¼Œå¾ O(n) é™è‡³ O(1)
  - é æœŸæŸ¥è©¢æ€§èƒ½æå‡ 20-40%
  
- **ğŸ“Š Policies å„ªåŒ–**ï¼š
  - åˆä½µé‡è¤‡çš„ permissive policiesï¼Œå¾ 26 å€‹æ¸›å°‘è‡³ 19 å€‹ï¼ˆæ¸›å°‘ 27%ï¼‰
  - æ¶ˆé™¤æ‰€æœ‰ 20 å€‹ "Multiple Permissive Policies" è­¦å‘Š
  - Policy è©•ä¼°æ¬¡æ•¸æ¸›å°‘ 30-67%
  
- **ğŸ” ç´¢å¼•å„ªåŒ–**ï¼š
  - ç‚º `customer_current_list.added_from_batch_id` æ·»åŠ ç´¢å¼•
  - ç‚º `mail_rules.created_by` æ·»åŠ ç´¢å¼•
  - ç‚º `system_settings.updated_by` æ·»åŠ ç´¢å¼•
  - JOIN æŸ¥è©¢é€Ÿåº¦æå‡ 10-50%
  
- **ğŸ§¹ è³‡æ–™å“è³ªä¿®æ­£**ï¼š
  - ä½¿ç”¨ MCP é€£æ¥ Supabase ç™¼ç¾ä¸¦ä¿®æ­£è³‡æ–™å“è³ªå•é¡Œ
  - æ¸…ç†æ‰€æœ‰å½±ç‰‡æ¨™é¡Œçš„å‰å¾Œç©ºæ ¼ï¼ˆä¾‹å¦‚ï¼šã€Œå°åƒåº— ã€â†’ã€Œå°åƒåº—ã€ï¼‰
  - åŸ·è¡Œ SQL: `UPDATE videos SET title = TRIM(title), title_en = TRIM(title_en)`
  - åœ¨å‰ç«¯æ‰€æœ‰æ¨™é¡Œæ¯”è¼ƒè™•åŠ å…¥ `trim()` é˜²è­·
  - é˜²æ­¢å°‡ä¾†å¾ Excel ä¸Šå‚³æ™‚å¸¶å…¥ç©ºæ ¼å°è‡´è·¨æœˆä»½é¸æ“‡ç„¡æ³•è­˜åˆ¥
  
- **ğŸ“ å®Œæ•´æ–‡æª”**ï¼š
  - æ€§èƒ½å„ªåŒ– [RLS_PERFORMANCE_FIX_SUMMARY.md](RLS_PERFORMANCE_FIX_SUMMARY.md) 
  - é©—è­‰å ±å‘Š [VERIFICATION_REPORT_RLS_FIX.md](VERIFICATION_REPORT_RLS_FIX.md)
  - ç·Šæ€¥ä¿®å¾© [EMERGENCY_FIX_CIRCULAR_DEPENDENCY.md](EMERGENCY_FIX_CIRCULAR_DEPENDENCY.md) ğŸš¨
  - Migration è…³æœ¬ï¼š[migration_fix_rls_performance.sql](database/migration_fix_rls_performance.sql) + [migration_fix_rls_circular_dependency.sql](database/migration_fix_rls_circular_dependency.sql)

### v3.0.3 è·¨æœˆä»½é¸æ“‡åŒæ­¥ä¿®æ­£ ğŸ”§

- **ğŸ¯ æ ¸å¿ƒå•é¡Œä¿®æ­£**ï¼š
  - ä¿®æ­£åŒä¸€å½±ç‰‡åœ¨ä¸åŒæœˆä»½æœ‰ä¸åŒ ID å°è‡´ç„¡æ³•è­˜åˆ¥çš„å•é¡Œ
  - æ”¹ç”¨å½±ç‰‡æ¨™é¡Œ (`title`) ä½œç‚ºå”¯ä¸€è­˜åˆ¥ï¼Œå¯¦ç¾çœŸæ­£çš„è·¨æœˆä»½é¸æ“‡åŒæ­¥
  - æ–°å¢ `customerListTitles` å’Œ `pendingChangesTitles` ç‹€æ…‹ç®¡ç†
  
- **ğŸ“§ éƒµä»¶é€šçŸ¥å„ªåŒ–**ï¼š
  - é‡æ§‹éƒµä»¶æœå‹™ï¼Œç›´æ¥ä½¿ç”¨å‰ç«¯è™•ç†å¥½çš„æ–°å¢/ç§»é™¤æ¸…å–®
  - ç§»é™¤å¾Œç«¯è¤‡é›œçš„ `video.id` å·®ç•°è¨ˆç®—é‚è¼¯
  - éƒµä»¶æ¨¡æ¿æ”¹ç‚ºåˆ†åˆ¥é¡¯ç¤ºã€Œæ–°å¢å½±ç‰‡ã€å’Œã€Œç§»é™¤å½±ç‰‡ã€æ¸…å–®
  - ç¢ºä¿éƒµä»¶ä¸­ä¸æœƒå‡ºç¾é‡è¤‡å½±ç‰‡
  
- **ğŸ”„ è³‡æ–™æµç¨‹å„ªåŒ–**ï¼š
  - å‰ç«¯ä½¿ç”¨æ¨™é¡Œå»é‡å¾Œå†æäº¤çµ¦å¾Œç«¯
  - LocalStorage åŒæ™‚ä¿å­˜ ID å’Œæ¨™é¡Œé›†åˆ
  - æäº¤ç¢ºèªå½ˆçª—æ­£ç¢ºé¡¯ç¤ºæ‰€æœ‰é¸æ“‡ï¼ˆç„¡é‡è¤‡ï¼‰

### v3.0.2 è·¨æœˆä»½é¸æ“‡é«”é©—å„ªåŒ–

- **ğŸ¯ æ™ºèƒ½è·¨æœˆä»½é¸æ“‡åŒæ­¥**ï¼š
  - ç•¶åŒä¸€éƒ¨å½±ç‰‡å‡ºç¾åœ¨å¤šå€‹æœˆä»½æ¸…å–®æ™‚ï¼Œé¸æ“‡ç‹€æ…‹æœƒè‡ªå‹•åŒæ­¥
  - ä¾‹å¦‚ï¼šåœ¨ 2025-11 é¸æ“‡ C å½±ç‰‡å¾Œï¼Œåˆ‡æ›åˆ° 2025-12 æ™‚ï¼ŒC å½±ç‰‡æœƒè‡ªå‹•é¡¯ç¤ºç‚ºå·²é¸æ“‡ç‹€æ…‹
  - æ–°å¢ `allMonthsVideos` ç‹€æ…‹ç®¡ç†ï¼Œå„²å­˜æ‰€æœ‰å·²è¼‰å…¥æœˆä»½çš„å½±ç‰‡è³‡æ–™
  
- **ğŸ“‹ æäº¤ç¢ºèªå„ªåŒ–**ï¼š
  - ç¢ºèªæäº¤å½ˆçª—ç¾åœ¨æœƒæ­£ç¢ºé¡¯ç¤ºæ‰€æœ‰é¸æ“‡çš„å½±ç‰‡ï¼ˆä¸è«–ä¾†è‡ªå“ªå€‹æœˆä»½ï¼‰
  - è‡ªå‹•å»é‡ï¼ŒåŒä¸€å½±ç‰‡åªé¡¯ç¤ºä¸€æ¬¡
  - å¾æ‰€æœ‰æœˆä»½çš„å½±ç‰‡é›†åˆä¸­æŸ¥æ‰¾å¾…æ–°å¢å½±ç‰‡ï¼Œè€Œéåƒ…é™ç•¶å‰æœˆä»½
  
- **âœï¸ æ–‡å­—å„ªåŒ–**ï¼š
  - æ‡¸æµ®å¡ç‰‡æŒ‰éˆ•ï¼šã€Œæäº¤è®Šæ›´ã€â†’ã€Œæäº¤é¸æ“‡ã€
  - ç¢ºèªå½ˆçª—æ¨™é¡Œï¼šã€Œç¢ºèªæäº¤è®Šæ›´ã€â†’ã€Œç¢ºèªæäº¤é¸æ“‡ã€
  - çµ±ä¸€ä½¿ç”¨ã€Œé¸æ“‡ã€è€Œéã€Œè®Šæ›´ã€ï¼Œæ›´ç¬¦åˆæ¥­å‹™èªç¾©

### v3.0.1 éƒµä»¶é€šçŸ¥é–‹é—œç®¡ç†

- **ğŸ“§ éƒµä»¶é€šçŸ¥é–‹é—œç®¡ç†**ï¼š
  - æ–°å¢ç³»çµ±è¨­å®šåŠŸèƒ½ï¼Œå¯æ§åˆ¶ã€Œå®¢æˆ¶æäº¤å½±ç‰‡é¸æ“‡ã€å’Œã€Œæ–°å½±ç‰‡æ¸…å–®ä¸Šå‚³ã€çš„è‡ªå‹•éƒµä»¶é€šçŸ¥
  - ç®¡ç†å“¡å¯åœ¨éƒµä»¶ç®¡ç†é é¢è¼•é¬†å•Ÿç”¨æˆ–åœç”¨è‡ªå‹•éƒµä»¶åŠŸèƒ½
  - åœç”¨å¾Œä»å¯é€éã€Œè£œç™¼é€šçŸ¥ã€åŠŸèƒ½æ‰‹å‹•ç™¼é€éƒµä»¶
  - æ–°å¢ `system_settings` è³‡æ–™åº«è¡¨å„²å­˜ç³»çµ±è¨­å®š
  - æ‰€æœ‰é–‹é—œè®Šæ›´æœƒè¨˜éŒ„åœ¨æ“ä½œæ—¥èªŒä¸­

### v3.0.0 æ ¸å¿ƒé‡æ§‹èˆ‡ä¿®æ­£

- **ğŸ¯ å½±ç‰‡é¸æ“‡é é¢é‡æ§‹ï¼ˆMovieSelection_v3ï¼‰**ï¼šå…¨æ–°çš„å®¢æˆ¶æ¸…å–®ç®¡ç†ç³»çµ±ï¼Œæ”¯æ´è·¨æœˆä»½é¸æ“‡ã€å¾…è™•ç†è®Šæ›´è¿½è¹¤ã€LocalStorage è‡ªå‹•ä¿å­˜ã€‚
- **ğŸ› é—œéµ Bug ä¿®æ­£**ï¼š
  - ä¿®æ­£ `currentSelectedIds` æœªå®šç¾©éŒ¯èª¤ï¼Œä½¿ç”¨ `useMemo` è¨ˆç®—ç•¶å‰é¸æ“‡å½±ç‰‡ç¸½æ•¸
  - ä¿®æ­£ API éŸ¿æ‡‰æ ¼å¼ä¸ä¸€è‡´å•é¡Œï¼ˆ`backend/customerList.js` è¿”å›æ ¼å¼çµ±ä¸€ï¼‰
  - ä¿®æ­£æœˆä»½é¸æ“‡å™¨é¡¯ç¤º "undefined-undefined" å•é¡Œ
  - ä¿®æ­£ Select çµ„ä»¶äº‹ä»¶è™•ç†ï¼Œç¢ºä¿æ­£ç¢ºæå– `e.target.value`
  
### UI/UX å…¨é¢å„ªåŒ–

- **ğŸ¨ è¦–è¦ºå‡ç´š**ï¼š
  - å…¨ç«™ä¸»é¡Œè‰²çµ±ä¸€ç‚ºæ©˜è‰²ï¼ˆPrimaryï¼‰ï¼Œç§»é™¤æ‰€æœ‰ç´«è‰²å…ƒç´ 
  - æ–°å¢ `MovieCard_v3` çµ„ä»¶ï¼Œæä¾›æ¸…æ™°çš„è¦–è¦ºç‹€æ…‹å›é¥‹ï¼ˆå·²é¸æ“‡ã€å¾…æ–°å¢ã€å¾…ç§»é™¤ï¼‰
  - æ”¯æ´ç¶²æ ¼/åˆ—è¡¨é›™è¦–åœ–æ¨¡å¼åˆ‡æ›
  - é é¢ padding èˆ‡å…¶ä»–é é¢ä¿æŒä¸€è‡´æ€§
  
- **âœ¨ æ‡¸æµ®å¡ç‰‡å„ªåŒ–**ï¼š
  - ä½¿ç”¨ React Portal ç¢ºä¿å¡ç‰‡å›ºå®šåœ¨ç€è¦½å™¨è¦–çª—åº•éƒ¨ï¼ˆè€Œéé é¢åº•éƒ¨ï¼‰
  - å¢å¼·æ¯›ç»ç’ƒæ•ˆæœï¼ˆGlassmorphismï¼‰ï¼šæ¼¸å±¤é€æ˜åº¦ã€æ¨¡ç³Š 20pxã€é£½å’Œåº¦å¢å¼· 180%
  - å¯¦æ™‚é¡¯ç¤ºå·²é¸æ“‡å½±ç‰‡æ•¸é‡ã€æ–°å¢æ•¸é‡ã€ç§»é™¤æ•¸é‡
  
- **ğŸ“¢ Toast è¨Šæ¯ä¿®æ­£**ï¼š
  - ä¿®æ­£æ‰€æœ‰ `showToast` åƒæ•¸é †åºï¼Œç¢ºä¿è¨Šæ¯æ­£ç¢ºé¡¯ç¤º
  - æ‰€æœ‰æç¤ºè¨Šæ¯çµ±ä¸€ç‚ºä¸­æ–‡ï¼ˆç§»é™¤ "success"ã€"error" ç­‰è‹±æ–‡æç¤ºï¼‰

### æŠ€è¡“æ”¹é€²

- **âš¡ æ€§èƒ½å„ªåŒ–**ï¼šä½¿ç”¨ `useMemo` é¿å…ä¸å¿…è¦çš„é‡è¤‡è¨ˆç®—
- **ğŸ”§ ä»£ç¢¼å“è³ª**ï¼šç§»é™¤å¤šé¤˜çš„ info toast æç¤ºï¼Œæ”¹é€²äº‹ä»¶è™•ç†é‚è¼¯
- **ğŸ“¦ çµ„ä»¶åŒ–**ï¼šå»ºç«‹å¯é‡ç”¨çš„ `MovieCard_v3` çµ„ä»¶ï¼Œæ”¯æ´å¤šç¨®é¡¯ç¤ºæ¨¡å¼

### åƒè€ƒæ–‡æª”

- [CROSS_MONTH_SELECTION_FIX.md](CROSS_MONTH_SELECTION_FIX.md) - è·¨æœˆä»½é¸æ“‡åŒæ­¥ä¿®æ­£ â­ v3.0.3-v3.0.4
- [REFACTOR_V3_DEPLOYMENT_GUIDE.md](REFACTOR_V3_DEPLOYMENT_GUIDE.md) - v3 é‡æ§‹éƒ¨ç½²æŒ‡å—
- [CRITICAL_BUG_FIX.md](CRITICAL_BUG_FIX.md) - é—œéµéŒ¯èª¤ä¿®æ­£
- [UI_UX_OPTIMIZATION_SUMMARY.md](UI_UX_OPTIMIZATION_SUMMARY.md) - UI/UX å„ªåŒ–ç¸½çµ
- [PORTAL_FIX_SUMMARY.md](PORTAL_FIX_SUMMARY.md) - Portal ä¿®æ­£èªªæ˜
- [GLASSMORPHISM_TOAST_FIX.md](GLASSMORPHISM_TOAST_FIX.md) - æ¯›ç»ç’ƒæ•ˆæœèˆ‡ Toast ä¿®æ­£

## ğŸ“œ 2025-11-24 æ›´æ–°é‡é» (v2.x)

> å®Œæ•´èªªæ˜è«‹è¦‹ [UPDATE_SUMMARY_2025_11_24.md](UPDATE_SUMMARY_2025_11_24.md)

- **è§’è‰²é¡¯ç¤ºèˆ‡å°è¦½å¼·åŒ–**ï¼šSettingsã€Layout èˆ‡ `/movies` è·¯ç”±ç¾å¯æ­£ç¢ºå€åˆ† Admin / Uploader / Customerï¼Œä¸¦é˜»æ“‹ä¸Šå‚³è€…èª¤å…¥å®¢æˆ¶é é¢ã€‚
- **Uploader Dashboard ä¸Šç·š**ï¼šæä¾›å°ˆå±¬é¦–é ã€ä¸Šå‚³èˆ‡é¸æ“‡ç‹€æ…‹è¦–è¦ºåŒ–ã€å¿«é€Ÿæ“ä½œå…¥å£ï¼Œä»¥åŠã€Œè£œç™¼ä¸Šå‚³é€šçŸ¥ã€æŒ‰éˆ•ã€‚
- **é€šçŸ¥ API æ“´å……**ï¼šæ–°å¢ `POST /api/mail-rules/notifications/upload`ï¼Œè®“ Admin/Uploader èƒ½åœ¨å®¢æˆ¶æœªæ”¶ä¿¡æ™‚ç«‹å³é‡é€éƒµä»¶ï¼Œä¸¦åŒæ­¥å¯«å…¥ Operation Logsã€‚
- **ç®¡ç†å„€è¡¨æ¿ + UI å„ªåŒ–**ï¼šAdmin Dashboard æ”¯æ´æœˆä»½åˆ‡æ›ï¼›å…¨ç«™è¼¸å…¥å…ƒä»¶æ”¹ç‚º compact é¢¨æ ¼ä¸¦çµ±ä¸€æ¨£å¼ï¼›Operation Logsã€Select å…ƒä»¶ä¿®æ­£ warningã€‚
- **æé†’è¨­å®šé‡æ§‹**ï¼šMail Management é ç§»å…¥æé†’è¨­å®šï¼Œæ”¯æ´å³æ™‚é–‹é—œã€é è¨­é€šçŸ¥ä¸Šå‚³è€…ã€é¡å¤– Email å»é‡ï¼Œä¸¦å°‡è¨­å®šæŒä¹…åŒ–åœ¨ `system_settings`ã€‚
- **ä½¿ç”¨è€… CRUD å¼·åŒ–**ï¼šUserManagement æ”¯æ´æ–°å¢/åˆªé™¤å¸³è™Ÿï¼Œå¾Œç«¯æ–°å¢ç›¸å°æ‡‰ APIï¼Œä¸”æ‰€æœ‰å‹•ä½œçš†è¨˜éŒ„æ–¼ Operation Logsã€‚
- **ğŸ¯ æœˆä»½é¸æ“‡å·®ç•°è¿½è¹¤ï¼ˆv2.2.0ï¼‰**ï¼šå®¢æˆ¶é¸ç‰‡æ™‚è‡ªå‹•é¡¯ç¤ºä¸Šæœˆå·²é¸æ¸…å–®ï¼Œé€å‡ºå‰å½ˆå‡ºç¢ºèªè¦–çª—æ¸…æ¥šå‘ˆç¾ç•°å‹•ï¼ˆä¸‹æ¶/æ–°å¢/ä¿ç•™ï¼‰ï¼Œéƒµä»¶é€šçŸ¥ä¹ŸåŒ…å«å®Œæ•´å·®ç•°æ‘˜è¦ã€‚è©³è¦‹ [MONTHLY_SELECTION_DIFF_IMPLEMENTATION.md](MONTHLY_SELECTION_DIFF_IMPLEMENTATION.md)ã€‚
- **ğŸ”§ ä¸Šå‚³æœˆä»½è­˜åˆ¥å„ªåŒ–ï¼ˆv2.2.1ï¼‰**ï¼šä¿®æ­£ä¸Šå‚³æ™‚æœˆä»½èª¤åˆ¤å•é¡Œï¼Œç³»çµ±ç¾å„ªå…ˆå¾æ‰¹æ¬¡åç¨±æå–æœˆä»½ï¼Œå…¶æ¬¡æª”åï¼Œæœ€å¾Œæ‰ä½¿ç”¨ç³»çµ±æ—¥æœŸã€‚æ”¯æ´å¤šç¨®æœˆä»½æ ¼å¼ï¼ˆå¦‚ã€Œ10æœˆã€ã€ã€Œ2024-10ã€ç­‰ï¼‰ã€‚è©³è¦‹ [UPLOAD_MONTH_EXTRACTION_FIX.md](UPLOAD_MONTH_EXTRACTION_FIX.md)ã€‚

> âœ… å¦å¯åƒè€ƒ [NEW_FEATURES_SUMMARY.md](NEW_FEATURES_SUMMARY.md)ã€[UI_IMPROVEMENTS_SUMMARY.md](UI_IMPROVEMENTS_SUMMARY.md)ã€[DESIGN_REFINEMENT_SUMMARY.md](DESIGN_REFINEMENT_SUMMARY.md) èˆ‡ [OPTIMIZATION_LOG_2025_11.md](OPTIMIZATION_LOG_2025_11.md) äº†è§£ç‰ˆæœ¬ 2.0~2.1.2 çš„å®Œæ•´è®Šæ›´èˆ‡è¨­è¨ˆç†å¿µã€‚

## åŠŸèƒ½ç‰¹è‰²

### ä¸‰å±¤æ¬Šé™æ¶æ§‹ â­ æ–°å¢

#### ç®¡ç†å“¡ (Admin)
- âœ… ä¸Šå‚³åŒ…å«åµŒå…¥åœ–ç‰‡çš„ Excel å½±ç‰‡æ¸…å–®
- âœ… ç·¨è¼¯å’Œåˆªé™¤æ‰¹æ¬¡
- âœ… æŸ¥çœ‹æ‰€æœ‰å®¢æˆ¶çš„é¸æ“‡ç‹€æ…‹
- âœ… æŸ¥çœ‹æ­·å²ä¸Šå‚³è¨˜éŒ„
- âœ… è¨­å®šæ¯æœˆæé†’é€šçŸ¥
- âœ… ç®¡ç†æ‰€æœ‰ç”¨æˆ¶è§’è‰²
- âœ… æŸ¥çœ‹ç³»çµ±æ“ä½œç´€éŒ„ï¼ˆAudit Logï¼‰
- âœ… æŸ¥çœ‹å„æœˆä»½æ‰€æœ‰å®¢æˆ¶çš„å·²é¸æ¸…å–®èˆ‡ç•°å‹•æ‘˜è¦

#### ä¸Šå‚³è€… (Uploader) â­ æ–°å¢
- âœ… ä¸Šå‚³åŒ…å«åµŒå…¥åœ–ç‰‡çš„ Excel å½±ç‰‡æ¸…å–®
- âœ… ç·¨è¼¯å½±ç‰‡è³‡è¨Š
- âœ… æŸ¥çœ‹æ‰€æœ‰å®¢æˆ¶çš„é¸æ“‡ç‹€æ…‹
- âŒ ç„¡æ³•åˆªé™¤æ‰¹æ¬¡
- âŒ ç„¡æ³•è¨­å®šæé†’é€šçŸ¥
- âŒ ç„¡æ³•ç®¡ç†ç”¨æˆ¶

#### å®¢æˆ¶ (Customer)
- âœ… ç€è¦½ç•¶æœˆå¯é¸æ“‡çš„å½±ç‰‡æ¸…å–®ï¼ˆå«åœ–ç‰‡ï¼‰
- âœ… é¸æ“‡æƒ³è¦çš„å½±ç‰‡ï¼ˆæ”¯æ´ç¶²æ ¼/åˆ—è¡¨é›™è¦–åœ–ï¼‰
- âœ… è·¨æœˆä»½é¸æ“‡å½±ç‰‡ï¼ˆå¾ä»»ä½•å¯ç”¨æœˆä»½æ·»åŠ è‡³æ¸…å–®ï¼‰
- âœ… **æ™ºèƒ½è·¨æœˆä»½åŒæ­¥**ï¼šåŒä¸€å½±ç‰‡åœ¨å¤šå€‹æœˆä»½çš„é¸æ“‡ç‹€æ…‹è‡ªå‹•åŒæ­¥ â­ v3.0.2
- âœ… å³æ™‚æŸ¥çœ‹å·²é¸æ“‡å½±ç‰‡ç‹€æ…‹ï¼ˆå·²æ“æœ‰ã€å¾…æ–°å¢ã€å¾…ç§»é™¤ï¼‰
- âœ… æ‡¸æµ®å¡ç‰‡é¡¯ç¤ºç•¶å‰é¸æ“‡æ•¸é‡èˆ‡å¾…è™•ç†è®Šæ›´
- âœ… è‡ªå‹•æª¢è¦–ä¸Šæœˆå·²é¸ç‰‡å–®ï¼Œå¯æ¯”å°ç•°å‹•
- âœ… **æäº¤ç¢ºèªé¡¯ç¤ºæ‰€æœ‰é¸æ“‡**ï¼šä¸è«–å½±ç‰‡ä¾†è‡ªå“ªå€‹æœˆä»½ï¼Œéƒ½æœƒåœ¨ç¢ºèªå½ˆçª—ä¸­å®Œæ•´é¡¯ç¤º â­ v3.0.2
- âœ… æäº¤é¸æ“‡æ¸…å–®ï¼ˆè®Šæ›´è‡ªå‹•ä¿å­˜è‡³ LocalStorageï¼‰
- âœ… æ¥æ”¶æ–°æ¸…å–®ä¸Šå‚³é€šçŸ¥

### è‡ªå‹•åŒ–åŠŸèƒ½
- ç®¡ç†å“¡ä¸Šå‚³æ¸…å–®å¾Œï¼Œè‡ªå‹•ç™¼é€ Email é€šçŸ¥æ‰€æœ‰å®¢æˆ¶ï¼ˆå¯é€éé–‹é—œæ§åˆ¶ï¼‰
- å®¢æˆ¶æäº¤é¸æ“‡å¾Œï¼Œè‡ªå‹•ç™¼é€ Email çµ¦ç®¡ç†å“¡ï¼ˆå«ä¸Šæœˆæ¯”å°å·®ç•°ï¼Œå¯é€éé–‹é—œæ§åˆ¶ï¼‰
- æ”¯æ´è¨­å®šæ¯æœˆå›ºå®šæ—¥æœŸæé†’ç®¡ç†å“¡ä¸Šå‚³æ¸…å–®
- è‡ªå‹•è¿½è¹¤èˆ‡è¨ˆç®—æœˆä»½é–“çš„å½±ç‰‡ç•°å‹•
- éƒµä»¶é€šçŸ¥é–‹é—œç®¡ç†ï¼šå¯åœ¨éƒµä»¶ç®¡ç†é é¢å•Ÿç”¨æˆ–åœç”¨è‡ªå‹•éƒµä»¶åŠŸèƒ½

## å°ˆæ¡ˆçµæ§‹

```
Fashion_movielist/
â”œâ”€â”€ frontend/                 # React å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # å¯é‡ç”¨çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ contexts/       # React Context
â”‚   â”‚   â”œâ”€â”€ lib/            # å·¥å…·å‡½æ•¸
â”‚   â”‚   â””â”€â”€ App.jsx         # ä¸»æ‡‰ç”¨çµ„ä»¶
â”‚   â”œâ”€â”€ public/             # éœæ…‹è³‡æº
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                 # Node.js å¾Œç«¯ API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/       # æ¥­å‹™é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•¸
â”‚   â”‚   â””â”€â”€ server.js       # ä¼ºæœå™¨å…¥å£
â”‚   â”œâ”€â”€ .env.example        # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ database/               # è³‡æ–™åº«ç›¸é—œ
â”‚   â””â”€â”€ schema.sql         # Supabase è³‡æ–™åº«çµæ§‹
â”‚
â””â”€â”€ README.md              # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

## ç’°å¢ƒè¨­å®š

### å‰ç½®éœ€æ±‚
- Node.js 18+ 
- npm æˆ– yarn
- Supabase å¸³è™Ÿ
- Azure AD æ‡‰ç”¨ç¨‹å¼ï¼ˆç”¨æ–¼ Microsoft Graph APIï¼‰

### å®‰è£æ­¥é©Ÿ

1. **Clone å°ˆæ¡ˆ**
```bash
cd Fashion_movielist
```

2. **å®‰è£å¾Œç«¯ä¾è³´**
```bash
cd backend
npm install
```

3. **è¨­å®šå¾Œç«¯ç’°å¢ƒè®Šæ•¸**
```bash
cp .env.example .env
# ç·¨è¼¯ .env å¡«å…¥ä»¥ä¸‹è³‡è¨Šï¼š
# - SUPABASE_URL
# - SUPABASE_SERVICE_KEY
# - AZURE_CLIENT_ID
# - AZURE_CLIENT_SECRET
# - AZURE_TENANT_ID
# - ADMIN_EMAIL
```

4. **è¨­å®š Supabase è³‡æ–™åº«**
- ç™»å…¥ Supabase Dashboard
- åŸ·è¡Œ `database/schema.sql` ä¸­çš„ SQL æŒ‡ä»¤

5. **å®‰è£å‰ç«¯ä¾è³´**
```bash
cd ../frontend
npm install
```

6. **è¨­å®šå‰ç«¯ç’°å¢ƒè®Šæ•¸**
```bash
# åœ¨ frontend/.env ä¸­è¨­å®šï¼š
# VITE_SUPABASE_URL=your_supabase_url
# VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
# VITE_API_URL=http://localhost:3000
```

### Azure AD Client Secret æé†’

è«‹ç¢ºä¿ `.env` ä¸­ `AZURE_CLIENT_SECRET` å¡«å…¥ **Client Secret Value**ï¼ˆé€šå¸¸åŒ…å« `~`ï¼‰ï¼Œä¸è¦å¡«å…¥ Secret IDã€‚è‹¥å¿˜è¨˜è¤‡è£½ Valueï¼Œéœ€è¦åœ¨ Azure Portal é‡æ–°å»ºç«‹æ–°çš„ Secretã€‚è©³ç´°æ­¥é©Ÿè«‹è¦‹ [AZURE_AD_SETUP_FIX.md](AZURE_AD_SETUP_FIX.md)ã€‚

## é–‹ç™¼æ¨¡å¼

### å•Ÿå‹•å¾Œç«¯
```bash
cd backend
npm run dev
# å¾Œç«¯å°‡åœ¨ http://localhost:3000 é‹è¡Œ
```

### å•Ÿå‹•å‰ç«¯
```bash
cd frontend
npm run dev
# å‰ç«¯å°‡åœ¨ http://localhost:5173 é‹è¡Œ
```

## éƒ¨ç½²

### å‰ç«¯éƒ¨ç½²ï¼ˆVercelï¼‰
```bash
cd frontend
npm run build
# ä½¿ç”¨ Vercel CLI æˆ–é€£æ¥ GitHub è‡ªå‹•éƒ¨ç½²
```

### å¾Œç«¯éƒ¨ç½²ï¼ˆRenderï¼‰
- é€£æ¥ GitHub repository
- è¨­å®šç’°å¢ƒè®Šæ•¸
- é¸æ“‡ Node.js ç’°å¢ƒ
- è¨­å®šå•Ÿå‹•å‘½ä»¤: `npm start`

## ğŸ§© ä¸»è¦åŠŸèƒ½èˆ‡æª”æ¡ˆ

### å½±ç‰‡æ‰¹æ¬¡èˆ‡æœˆä»½æµç¨‹

- `backend/src/routes/upload.js` æœƒå¾ä¸Šå‚³ Excel åç¨±æå–æœˆä»½ä¸¦å¯«å…¥ `batches.month` (`YYYY-MM`)ï¼›è‹¥ä¸åˆæ³•å‰‡ fallback ç‚ºç•¶æœˆã€‚
- `frontend/src/pages/MovieSelection.jsx`ã€`VideoManagement.jsx` èˆ‡ `AdminDashboard.jsx` å…§å»ºæœˆä»½é¸æ“‡å™¨ï¼Œå¯è¼‰å…¥æ­·å²æ‰¹æ¬¡ã€‚
- å®¢æˆ¶å¯æ–¼ `SelectionHistory.jsx` æŸ¥çœ‹æ‰€æœ‰æäº¤ç´€éŒ„èˆ‡ç¸®åœ–ï¼Œç®¡ç†å“¡/ä¸Šå‚³è€…äº¦å¯æª¢è¦–ã€‚
- å½±ç‰‡ç·¨è¼¯ï¼ˆ`VideoEditModal.jsx` + `videos.js` APIï¼‰æ”¯æ´æ–‡å­—æ¬„ä½ã€å°é¢æ›¿æ›ã€å³æ™‚é è¦½èˆ‡æ¬Šé™æ§ç®¡ã€‚

### Operation Logsï¼ˆæ“ä½œç´€éŒ„ï¼‰

### Operation Logsï¼ˆæ“ä½œç´€éŒ„ï¼‰

- `public.operation_logs` è¡¨è¨˜éŒ„æ‰€æœ‰æ•æ„Ÿæ“ä½œã€‚
- å¾Œç«¯ `recordOperationEvent` æœå‹™çµ±ä¸€å¯«å…¥ã€‚
- å‰ç«¯ `/operation-logs` é é¢æä¾›å¡ç‰‡/æ¸…å–®é›™è¦–åœ–ã€ç¯©é¸ã€é‡æ–°æ•´ç†ã€‚
- ç®¡ç†å“¡å¯åœ¨è¨­å®šé èª¿æ•´ä¿ç•™å¤©æ•¸ï¼ˆ7â€“365 å¤©ï¼‰ï¼Œç«‹å³è§¸ç™¼æ¸…ç†ä¸¦æ–¼ metadata ç´€éŒ„åˆªé™¤ç­†æ•¸ã€‚
- ç›¸é—œèªªæ˜è«‹åƒè€ƒ [OPERATION_LOGS_IMPLEMENTATION.md](OPERATION_LOGS_IMPLEMENTATION.md)ã€‚

### Mail Management èˆ‡æé†’è¨­å®š

- è¨­å®šé é¢ç§»è‡³ `MailManagement`ï¼Œé–‹é—œç‚ºå³æ™‚ç”Ÿæ•ˆï¼Œåœç”¨æ™‚ UI æœƒé–å®šè¨­å®šé¿å…èª¤æ“ä½œã€‚
- **éƒµä»¶é€šçŸ¥å…¨å±€é–‹é—œ**ï¼šå¯ç¨ç«‹æ§åˆ¶ã€Œå®¢æˆ¶æäº¤å½±ç‰‡é¸æ“‡ã€å’Œã€Œæ–°å½±ç‰‡æ¸…å–®ä¸Šå‚³ã€çš„è‡ªå‹•éƒµä»¶é€šçŸ¥ã€‚
- é è¨­é€šçŸ¥å°è±¡åŒ…å«æ‰€æœ‰ä¸Šå‚³è€…ï¼Œå¦å¯æ–°å¢é¡å¤– Emailï¼Œç³»çµ±æœƒè‡ªå‹•åµæ¸¬é‡è¤‡èˆ‡æ ¼å¼ã€‚
- æ’ç¨‹è¨­å®šï¼ˆæ—¥æœŸã€æ™‚é–“ã€è¨Šæ¯ï¼‰ç›´æ¥åŒæ­¥è‡³å¾Œç«¯ `system_settings`ï¼Œä¼ºæœå™¨é‡å•Ÿä¸æœƒéºå¤±ã€‚
- é€éã€Œè£œç™¼ä¸Šå‚³é€šçŸ¥ã€å¯é‡æ–°å¯„é€æœ¬æœˆç‰‡å–®æé†’çµ¦æ‰€æœ‰å®¢æˆ¶ï¼ˆä¸å—é–‹é—œå½±éŸ¿ï¼‰ã€‚
- é–‹é—œè®Šæ›´æœƒè‡ªå‹•è¨˜éŒ„åœ¨æ“ä½œæ—¥èªŒä¸­ï¼Œæ–¹ä¾¿è¿½è¹¤ç³»çµ±è¨­å®šæ­·å²ã€‚

### UI/UX è¨­è¨ˆæº–å‰‡èˆ‡å„ªåŒ–

- v3.0.0 å…¨é¢çµ±ä¸€ **æ©˜è‰²ä¸»é¡Œï¼ˆPrimaryï¼‰+ å¢å¼·æ¯›ç»ç’ƒæ•ˆæœ**ï¼šæ‰€æœ‰ç´«è‰²å…ƒç´ å·²ç§»é™¤ï¼Œå…¨ç«™æ¡ç”¨æ©˜è‰²ä½œç‚ºä¸»é¡Œè‰²ã€‚
- **Glassmorphism å‡ç´š**ï¼šæ‡¸æµ®å¡ç‰‡æ¡ç”¨æ¼¸å±¤é€æ˜åº¦ï¼ˆ80% â†’ 70% â†’ 60%ï¼‰ã€æ¨¡ç³Š 20pxã€é£½å’Œåº¦å¢å¼· 180%ï¼Œå‰µé€ æ·±åº¦æ„Ÿèˆ‡è³ªæ„Ÿã€‚
- **React Portal æ‡‰ç”¨**ï¼šæ‡¸æµ®å…ƒç´ ï¼ˆå¦‚å¾…è™•ç†è®Šæ›´å¡ç‰‡ï¼‰ä½¿ç”¨ `createPortal` æ¸²æŸ“è‡³ `document.body`ï¼Œç¢ºä¿å›ºå®šåœ¨ç€è¦½å™¨è¦–çª—åº•éƒ¨ï¼Œä¸å—é é¢æ»¾å‹•å½±éŸ¿ã€‚
- æŒ‰éˆ•æ¨£å¼ï¼šæ©˜è‰²ç´”è‰²/æ¼¸å±¤çµ±ä¸€ç‚º `btn` åŸå­é¡åˆ¥ï¼Œå…·å‚™ hover é™°å½±ã€active å£“ç¸®ã€focus ring èˆ‡ç¦ç”¨æ…‹ã€‚
- è¼¸å…¥æ¡†ï¼šå…¨ç™½èƒŒæ™¯ã€2px é‚Šæ¡†ã€æ©˜è‰² focus ringã€`rounded-xl`ï¼Œç¢ºä¿ç™»å…¥/è¨»å†Šå¯è®€æ€§ã€‚
- å½±ç‰‡é¸æ“‡é ï¼ˆv3ï¼‰ï¼šæ”¯æ´ Grid / List è¦–åœ–åˆ‡æ›ã€**æ™ºèƒ½è·¨æœˆä»½é¸æ“‡åŒæ­¥**ã€å³æ™‚è¦–è¦ºç‹€æ…‹å›é¥‹ã€å¾…è™•ç†è®Šæ›´è¿½è¹¤ã€LocalStorage è‡ªå‹•ä¿å­˜ã€**å®Œæ•´æäº¤ç¢ºèªé¡¯ç¤º**ã€‚
- Login/BrandTransition ä»‹é¢æ¡ Split Layout + æ¯›ç»ç’ƒå¡ç‰‡ï¼›Footer æä¾›å®Œæ•´å…¬å¸è³‡è¨Šã€æ³•å¾‹æ¢æ¬¾èˆ‡æ”¯æ´é€£çµã€‚
- è©³ç´°åƒè€ƒï¼š[UI_IMPROVEMENTS_SUMMARY.md](UI_IMPROVEMENTS_SUMMARY.md)ã€[DESIGN_REFINEMENT_SUMMARY.md](DESIGN_REFINEMENT_SUMMARY.md)ã€[UI_UX_OPTIMIZATION_SUMMARY.md](UI_UX_OPTIMIZATION_SUMMARY.md)ã€‚

### æ ¸å¿ƒå…±ç”¨çµ„ä»¶èˆ‡è¨Šæ¯ç³»çµ±

- `Select.jsx`ï¼šè‡ªå®šç¾©ä¸‹æ‹‰é¸å–®ï¼Œæä¾›è·¨ç€è¦½å™¨ä¸€è‡´ UIã€hover/focus æ¨£å¼èˆ‡æ»¾å‹•æ¢å„ªåŒ–ã€‚äº‹ä»¶è™•ç†å·²ä¿®æ­£ç‚ºæ­£ç¢ºçš„ `e.target.value` æ ¼å¼ã€‚
- `ToastContext.jsx`ï¼šçµ±ä¸€è·¯å¾‘è¨Šæ¯ï¼Œä¾æˆåŠŸ/éŒ¯èª¤/è­¦å‘Š/è³‡è¨Šå¥—ç”¨ä¸åŒåº•è‰²ä¸¦å…·æ»‘å…¥æ·¡å‡ºå‹•ç•«ï¼ˆå–ä»£èˆŠ alertï¼‰ã€‚æ‰€æœ‰è¨Šæ¯åƒæ•¸é †åºå·²çµ±ä¸€ç‚º `(message, type)`ã€‚
- `Modal.jsx`ï¼šæ¡ç”¨åŸç”Ÿ `createPortal`ï¼Œå…§å»º ESC/èƒŒæ™¯é—œé–‰ã€focus trapã€scroll lockï¼Œç§»é™¤å° headless UI ä¾è³´ã€‚
- `MovieCard_v3.jsx` â­ æ–°å¢ï¼šå¢å¼·å‹å½±ç‰‡å¡ç‰‡çµ„ä»¶ï¼Œæ”¯æ´å¤šç¨®è¦–è¦ºç‹€æ…‹ï¼ˆå·²æ“æœ‰ã€å¾…æ–°å¢ã€å¾…ç§»é™¤ï¼‰èˆ‡ç¶²æ ¼/åˆ—è¡¨é›™é¡¯ç¤ºæ¨¡å¼ã€‚
- `emailService.js`ï¼šéƒµä»¶æ¨¡æ¿æ”¹ç‚ºæ¥µç°¡æ’ç‰ˆ + æ‘˜è¦è³‡è¨Šå¡ï¼Œä¸¦æä¾›å¯å¸¶ä¸»æ—¨çš„æ”¯æ´é€£çµã€‚

### æ³•å¾‹æ–‡ä»¶èˆ‡é è…³

- `LegalDocs.jsx` èšåˆéš±ç§æ¬Šæ”¿ç­–ã€ä½¿ç”¨æ¢æ¬¾ä¸¦é€é Modal é¡¯ç¤ºï¼Œé¿å…è·³é ï¼›Footer ä»¥ä¸­è‹±æ–‡å…¬å¸è³‡è¨Šã€æ”¯æ´é€£çµèˆ‡ç‰ˆæ¬Šè²æ˜æ§‹æˆã€‚

### Excel æ ¼å¼è¦æ±‚

ä¸Šå‚³çš„ Excel æª”æ¡ˆå¿…é ˆåŒ…å«ä»¥ä¸‹æ¬„ä½ï¼š
- åœ–ç‰‡ï¼ˆåµŒå…¥å¼åœ–ç‰‡ï¼‰
- ç‰‡å
- è‹±æ–‡ç‰‡å
- ç°¡ä»‹
- å°æ¼”
- ç”·æ¼”å“¡
- å¥³æ¼”å“¡
- ç‰‡é•·
- ç´šåˆ¥
- ç™¼éŸ³
- å­—å¹•

### API ç«¯é»ç¸½è¦½

### èªè­‰ç›¸é—œ
- `POST /api/auth/register` - è¨»å†Šæ–°ç”¨æˆ¶
- `POST /api/auth/login` - ç”¨æˆ¶ç™»å…¥

### å½±ç‰‡ç®¡ç†
- `GET /api/videos/latest` - ç²å–æœ€æ–°å½±ç‰‡æ¸…å–®
- `POST /api/upload` - ä¸Šå‚³ Excel æ¸…å–®ï¼ˆç®¡ç†å“¡ï¼‰

### é¸æ“‡ç®¡ç†
- `POST /api/select` - æäº¤å½±ç‰‡é¸æ“‡ï¼ˆå®¢æˆ¶ï¼‰
- `GET /api/selections` - æŸ¥çœ‹æ‰€æœ‰é¸æ“‡ï¼ˆç®¡ç†å“¡ï¼‰

### é€šçŸ¥ç®¡ç†
- `POST /api/reminders` - è¨­å®šæé†’é€šçŸ¥
- `POST /api/mail-rules/notifications/upload` - Admin/Uploader è£œç™¼æœ€æ–°æ‰¹æ¬¡ä¸Šå‚³é€šçŸ¥ï¼ˆè¨˜éŒ„æ–¼ Operation Logsï¼‰

## ğŸ” æˆæ¬Š

æ­¤å°ˆæ¡ˆç‚ºç§æœ‰å°ˆæ¡ˆï¼Œåƒ…ä¾›å…§éƒ¨ä½¿ç”¨ã€‚

## ğŸ“š æ–‡ä»¶ç´¢å¼•

> å¦‚æœåªéœ€è¦æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¯ç›´æ¥é–±è®€ [ğŸ“š_æ–‡ä»¶ç´¢å¼•.md](ğŸ“š_æ–‡ä»¶ç´¢å¼•.md)ã€‚ä»¥ä¸‹ç‚ºé‡é»ç¯€éŒ„ï¼š

| ç›®çš„ | æ¨è–¦é–±è®€ |
|------|-----------|
| ç¬¬ä¸€æ¬¡æ¥è§¸ | [START_HERE.md](START_HERE.md)ã€[QUICK_START.md](QUICK_START.md)ã€[QUICK_REFERENCE.md](QUICK_REFERENCE.md) |
| v3.3 èªè­‰å¼·åŒ– â­ | 401 è‡ªå‹•è™•ç†ã€Session é˜²è­·ã€éæœŸæç¤º - è©³è¦‹æœ¬ README |
| äº†è§£ v3.0 æ›´æ–° | [REFACTOR_V3_DEPLOYMENT_GUIDE.md](REFACTOR_V3_DEPLOYMENT_GUIDE.md)ã€[CRITICAL_BUG_FIX.md](CRITICAL_BUG_FIX.md)ã€[UI_UX_OPTIMIZATION_SUMMARY.md](UI_UX_OPTIMIZATION_SUMMARY.md) |
| v3.0 æŠ€è¡“ä¿®æ­£ | [PORTAL_FIX_SUMMARY.md](PORTAL_FIX_SUMMARY.md)ã€[GLASSMORPHISM_TOAST_FIX.md](GLASSMORPHISM_TOAST_FIX.md)ã€[UI_FIX_SUMMARY.md](UI_FIX_SUMMARY.md) |
| v3.0.4 æ€§èƒ½å„ªåŒ– | [RLS_PERFORMANCE_FIX_SUMMARY.md](RLS_PERFORMANCE_FIX_SUMMARY.md)ã€[VERIFICATION_REPORT_RLS_FIX.md](VERIFICATION_REPORT_RLS_FIX.md) |
| äº†è§£ v2.0 æ›´æ–° | [UPDATE_SUMMARY.md](UPDATE_SUMMARY.md)ã€[ANSWERS_TO_YOUR_QUESTIONS.md](ANSWERS_TO_YOUR_QUESTIONS.md)ã€[IMPLEMENTATION_COMPLETE.md](IMPLEMENTATION_COMPLETE.md) |
| v2.1 åŠŸèƒ½èˆ‡ UI æ”¹ç‰ˆ | [NEW_FEATURES_SUMMARY.md](NEW_FEATURES_SUMMARY.md)ã€[UI_IMPROVEMENTS_SUMMARY.md](UI_IMPROVEMENTS_SUMMARY.md)ã€[DESIGN_REFINEMENT_SUMMARY.md](DESIGN_REFINEMENT_SUMMARY.md) |
| 2025-11 å„ªåŒ–èˆ‡èª¿æ•´ | [UPDATE_SUMMARY_2025_11_24.md](UPDATE_SUMMARY_2025_11_24.md)ã€[OPTIMIZATION_LOG_2025_11.md](OPTIMIZATION_LOG_2025_11.md) |
| éƒ¨ç½²èˆ‡ç¶­é‹ | [DEPLOYMENT_RUNBOOK.md](DEPLOYMENT_RUNBOOK.md)ã€[DEPLOYMENT.md](DEPLOYMENT.md)ã€[ENV_SETUP_GUIDE.md](ENV_SETUP_GUIDE.md) |
| æ¬Šé™èˆ‡æ¸¬è©¦ | [PERMISSION_SYSTEM_UPDATE.md](PERMISSION_SYSTEM_UPDATE.md)ã€[TESTING_NEW_FEATURES.md](TESTING_NEW_FEATURES.md) |
| éƒ¨ç½²èˆ‡è¨­å®š | [DEPLOYMENT.md](DEPLOYMENT.md)ã€[ENV_SETUP_GUIDE.md](ENV_SETUP_GUIDE.md)ã€[AZURE_AD_SETUP_FIX.md](AZURE_AD_SETUP_FIX.md) |
| è³‡æ–™åº« | [database/README.md](database/README.md)ã€[database/schema.sql](database/schema.sql)ã€[migration_fix_rls_performance.sql](database/migration_fix_rls_performance.sql) |

æ›´å¤šåˆ†é¡ï¼ˆä¾è§’è‰²/ç›®çš„ï¼‰è«‹è¦‹æ–‡ä»¶ç´¢å¼•ã€‚

## ğŸ”„ ç³»çµ±è³‡æ–™é‡è¨­æµç¨‹ï¼ˆSupabaseï¼‰

ä½¿ç”¨å‰è«‹å‹™å¿…å‚™ä»½ã€‚ä»¥ä¸‹ SQL å¯åœ¨ Supabase SQL Editor ä¾åºåŸ·è¡Œï¼š

> **æ³¨æ„**ï¼šå¦‚æœæ˜¯æ–°ç³»çµ±æˆ–å°šæœªåŸ·è¡Œéé·ç§»è…³æœ¬ï¼Œè«‹å…ˆåŸ·è¡Œ `database/migration_mail_toggles.sql` ä¾†å»ºç«‹ `system_settings` è¡¨ã€‚

### 1. æ¸…ç©º `public` schema
```sql
begin;
truncate table public.operation_logs restart identity cascade;
truncate table public.password_resets restart identity cascade;
truncate table public.mail_rules restart identity cascade;
truncate table public.selections restart identity cascade;
truncate table public.videos restart identity cascade;
truncate table public.batches restart identity cascade;
truncate table public.profiles restart identity cascade;
truncate table public.system_settings restart identity cascade;
commit;
```

### 2. æ¸…ç©º Supabase Auth
```sql
begin;
delete from auth.identities;
delete from auth.users;
commit;
```

> è‹¥åƒ…ç§»é™¤ç‰¹å®šå¸³è™Ÿï¼Œå¯åœ¨ `where` å­å¥æŒ‡å®š `id` æˆ– `email`ã€‚

### 3. é‡å»ºé è¨­ç®¡ç†å“¡ï¼ˆ`support@fas.com.tw / infrasysfas`ï¼‰

```sql
insert into auth.users (
  id, instance_id, aud, role, email,
  encrypted_password, email_confirmed_at,
  raw_app_meta_data, raw_user_meta_data,
  created_at, updated_at
)
values (
  '3d3a9f09-01a9-4cd5-9149-2fcb16299b4a',
  '00000000-0000-0000-0000-000000000000',
  'authenticated','authenticated','support@fas.com.tw',
  crypt('infrasysfas', gen_salt('bf', 10)),
  now(),
  jsonb_build_object('provider', 'email', 'providers', array['email']),
  jsonb_build_object(
    'sub', '3d3a9f09-01a9-4cd5-9149-2fcb16299b4a',
    'name', 'FASsupport', 'role', 'admin',
    'email', 'support@fas.com.tw', 'email_verified', true, 'phone_verified', false
  ),
  now(), now()
);

insert into auth.identities (
  id, user_id, provider_id, provider, identity_data,
  created_at, updated_at
)
values (
  gen_random_uuid(),
  '3d3a9f09-01a9-4cd5-9149-2fcb16299b4a',
  'support@fas.com.tw','email',
  jsonb_build_object('sub','3d3a9f09-01a9-4cd5-9149-2fcb16299b4a','email','support@fas.com.tw'),
  now(), now()
);

insert into public.profiles (id, name, email, role, created_at, updated_at)
values (
  '3d3a9f09-01a9-4cd5-9149-2fcb16299b4a',
  'FASsupport','support@fas.com.tw','admin', now(), now()
);
```

å®Œæˆå¾Œè«‹æ¸…é™¤ç€è¦½å™¨ localStorage çš„ `supabase.auth.*` tokenï¼Œå†ä»¥é è¨­å¸³è™Ÿç™»å…¥ã€‚

## ğŸ“ˆ å°ˆæ¡ˆç‹€æ…‹èˆ‡è¯çµ¡

- **ç‰ˆæœ¬**ï¼šv3.0.8 ï¼ˆ2026-01-05 æ›´æ–°ï¼‰
- **ç¨‹å¼ç¢¼è¡Œæ•¸**ï¼š~7,800 è¡Œ ï½œ **æ–‡ä»¶å­—æ•¸**ï¼š~50,000 å­—
- **é‡Œç¨‹ç¢‘**ï¼š
  - âœ… ä¸‰å±¤æ¬Šé™ã€ç”¨æˆ¶ç®¡ç†ã€æ“ä½œç´€éŒ„ã€æé†’è¨­å®š
  - âœ… å½±ç‰‡é¸æ“‡ç³»çµ± v3 é‡æ§‹ï¼ˆè·¨æœˆä»½é¸æ“‡ã€å¾…è™•ç†è®Šæ›´è¿½è¹¤ï¼‰
  - âœ… **è·¨æœˆä»½é¸æ“‡åŒæ­¥ä¿®æ­£**ï¼ˆä½¿ç”¨æ¨™é¡Œè­˜åˆ¥ï¼ŒçœŸæ­£å¯¦ç¾è·¨æœˆä»½åŒæ­¥ï¼‰ â­ v3.0.3
  - âœ… **è³‡æ–™å“è³ªä¿®æ­£**ï¼ˆæ¸…ç†ç©ºæ ¼ã€åŠ å…¥ trim() é˜²è­·ï¼Œ100% æº–ç¢ºè­˜åˆ¥ï¼‰ â­ v3.0.4
  - âœ… **èªè­‰ç³»çµ±ä¿®æ­£**ï¼ˆä¿®æ­£ 401 éŒ¯èª¤ï¼Œç¢ºä¿ API token æ­£ç¢ºå‚³éï¼‰ â­ v3.0.5
  - âœ… **å®¢æˆ¶æ¸…å–®åŠŸèƒ½ä¿®æ­£**ï¼ˆé¡¯ç¤ºã€æ›´æ–°ã€å„€è¡¨æ¿ç‹€æ…‹å…¨é¢ä¿®æ­£ï¼‰ â­ v3.0.6
  - âœ… **å„€è¡¨æ¿è³‡æ–™é¡¯ç¤ºä¿®æ­£**ï¼ˆæ‰€æœ‰å„€è¡¨æ¿æ”¹ç”¨ v3 æ–°è¡¨ï¼Œè³‡æ–™å®Œæ•´é¡¯ç¤ºï¼‰ â­ v3.0.7
  - âœ… UI/UX å…¨é¢å„ªåŒ–ï¼ˆæ¯›ç»ç’ƒæ•ˆæœã€ä¸»é¡Œè‰²çµ±ä¸€ã€è¦–åœ–åˆ‡æ›ï¼‰
  - âœ… é—œéµ Bug ä¿®æ­£ï¼ˆAPI æ ¼å¼ã€äº‹ä»¶è™•ç†ã€Toast è¨Šæ¯ï¼‰
  - âœ… éƒµä»¶é€šçŸ¥é–‹é—œç®¡ç†ï¼ˆå¯æ§åˆ¶è‡ªå‹•éƒµä»¶åŠŸèƒ½ï¼‰
  - âœ… **éƒµä»¶é€šçŸ¥å„ªåŒ–**ï¼ˆç›´æ¥ä½¿ç”¨å‰ç«¯å»é‡è³‡æ–™ï¼Œé¿å…é‡è¤‡é¡¯ç¤ºï¼‰ â­ v3.0.3
  - âœ… **è³‡æ–™åº«æ€§èƒ½å„ªåŒ–**ï¼ˆRLS policies é‡æ§‹ï¼ŒæŸ¥è©¢é€Ÿåº¦æå‡ 20-40%ï¼‰ â­ v3.0.4

å¦‚éœ€å”åŠ©æˆ–ç™¼ç¾æ–‡ä»¶éŒ¯èª¤ï¼Œè«‹èˆ‡ç³»çµ±ç®¡ç†å“¡è¯ç¹«æˆ–æ–¼æ–‡ä»¶ä¸­æ¨™è¨» TODOã€‚

